"use strict";function UtilFactory(a,b,c){var d=function(a,b,d){var e=!1;if(a&&a.length){var f=c.getComputedStyle(a[0]);e=angular.isDefined(f[b])&&(d?f[b]===d:!0)}return e},e={dom:{},now:c.performance?angular.bind(c.performance,c.performance.now):Date.now||function(){return(new Date).getTime()},nextUid:function(){return""+nextUniqueId++},getClosest:function(a,b,c){if(angular.isString(b)){var d=b.toUpperCase();b=function(a){return a.nodeName===d}}if(a instanceof angular.element&&(a=a[0]),c&&(a=a.parentNode),!a)return null;do if(b(a))return a;while(a=a.parentNode);return null},nextTick:function(c,d,f){function g(){var a=h.queue,c=h.digest;h.queue=[],h.timeout=null,h.digest=!1,a.forEach(function(a){var b=a.scope&&a.scope.$$destroyed;b||a.callback()}),c&&b.$digest()}var h=e.nextTick,i=h.timeout,j=h.queue||[];return j.push({scope:f,callback:c}),null===d&&(d=!0),h.digest=h.digest||d,h.queue=j,i||(h.timeout=a(g,0,!1))},hasComputedStyle:d,isParentFormSubmitted:function(a){var b=e.getClosest(a,"form"),c=b?angular.element(b).controller("form"):null;return c?c.$submitted:!1}};return e}function mdInputContainerDirective(a){function b(b,c,d,e){var f=this;f.isErrorGetter=d.mdIsError&&a(d.mdIsError),f.delegateClick=function(){f.input.focus()},f.element=c,f.setFocused=function(a){c.toggleClass("md-input-focused",!!a)},f.setHasValue=function(a){c.toggleClass("md-input-has-value",!!a)},f.setHasPlaceholder=function(a){c.toggleClass("md-input-has-placeholder",!!a)},f.setInvalid=function(a){a?e.addClass(c,"md-input-invalid"):e.removeClass(c,"md-input-invalid")},b.$watch(function(){return f.label&&f.input},function(a){a&&!f.label.attr("for")&&f.label.attr("for",f.input.attr("id"))})}return b.$inject=["$scope","$element","$attrs","$animate"],{restrict:"E",controller:b}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(a,b,c,d){d&&(d.label=b,a.$on("$destroy",function(){d.label=null}))}}}function inputTextareaDirective(a){return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:function(b,c,d,e){function f(){i.setHasValue(c.val().length>0||(c[0].validity||{}).badInput)}function g(a){return i.setHasValue(!k.$isEmpty(a)),a}function h(){i.label&&d.$observe("required",function(){i.label.toggleClass("md-required",!1)})}var i=e[0],j=!!e[1],k=e[1],l=angular.isDefined(d.readonly);if(i){i.input=c,h(),c.addClass("md-input"),c.attr("id")||c.attr("id","input_"+a.nextUid()),j||f();var m=i.isErrorGetter||function(){return k.$invalid&&(k.$touched||a.isParentFormSubmitted(c))};b.$watch(m,i.setInvalid),d.ngValue&&d.$observe("value",f),k.$parsers.push(g),k.$formatters.push(g),c.on("input",f),l||c.on("focus",function(){a.nextTick(function(){i.setFocused(!0)})}).on("blur",function(){a.nextTick(function(){i.setFocused(!1),f()})}),b.$on("$destroy",function(){i.setFocused(!1),i.setHasValue(!1),i.input=null})}}}}function placeholderDirective(){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(a,b,c,d){d&&d.setHasPlaceholder(!0)}}}}UtilFactory.$inject=["$timeout","$rootScope","$window"],mdInputContainerDirective.$inject=["$parse"],inputTextareaDirective.$inject=["$mdUtil"],angular.module("loginAppInternal",["loginTranslations","loginPreload","wixAngular","wix.common.bi","loginAppConstants","wixStyle","material","wixAngularStorage"]).config(["wixBiLoggerProvider","biEvents",function(a,b){function c(a){return a.isMobile()?"mobile":"desktop"}function d(a){return a.get()}c.$inject=["userDeviceType"],d.$inject=["sessionId"],a.setConfig({adapter:"hls2",eventMap:b.getEventMap(),defaultEventArgs:{view:c,ldSessionID:d,appVersion:"new-wix-login"},removeUndefinedValues:!0})}]),angular.module("loginApp",["loginAppInternal","ngAnimate","ngCookies","debounce","fedops","wixAngularExperiments","wix.ab-translate"]).config(["$locationProvider","fedopsLoggerProvider","experimentManagerProvider","$translateProvider","abTranslateProvider",function(a,b,c,d,e){var f=d.preferredLanguage(),g=d.translations()[f],h=e.abTranslate["default"](c.experiments,g);d.translations(f,h),a.html5Mode({enabled:!0,requireBase:!1}),b.setAppName("login-statics"),"true"!==c.experiments["specs.users.UseWixRecorder"]&&wixFullstoryLoader({label:"login-statics",spec:"specs.users.FullStory"}),d.useSanitizeValueStrategy(null)}]).run(["$window","$rootScope","debounce",function(a,b,c){a.addEventListener("resize",function(){return c(b.$digest(),500)}),b.brand=a.isEditorX?"Editor X":"Wix"}]),angular.module("loginAppConstants",[]),angular.module("material",[]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/account-verification.html","<form name='accountVerificationForm' novalidate onsubmit='submit.focus()'>\n<div class='title-and-content'>\n<div class='account-verification-title title'>{{'account_verification.title' | translate}}</div>\n<div class='account-verification-content content'>{{'account_verification.content' | translate:{email: $ctrl.getEmail()} }}</div>\n</div>\n<div class='input-info'>\n<desktop-input class='password' field='accountVerificationForm.password' label='&#39;account_verification.placeholder&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autofocus name='password' ng-model='$ctrl.password' required type='password'>\n</desktop-input>\n<div class='button-and-forgot-password'>\n<div class='button-spinner'>\n<button class='verify-btn wix-button submit' name='submit' ng-click='accountVerificationForm.$valid ? $ctrl.verifyAccount() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'account_verification.next' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n<a class='forgot-password-link' href ng-click='$ctrl.onClickForgotPassword()'>{{ 'forgot_password.link' | translate }}</a>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/enter-email.html","<form name='enterEmailForm' novalidate onsubmit='submit.focus()'>\n<div class='enter-email-title title'>{{'enter_email.title' | translate}}</div>\n<desktop-input class='email' field='enterEmailForm.email' label='&#39;enter_email.placeholder&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' autofocus class='enter-email-input' name='email' ng-model='$ctrl.email' required type='email'>\n</desktop-input>\n<div class='button-spinner'>\n<button class='enter-email-send wix-button submit' name='submit' ng-click='enterEmailForm.$valid ? $ctrl.sendEmailAddress() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'enter_email.send' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/forgot-password.html","<form class='forgot-password' name='forgotPasswordForm' novalidate onsubmit='submit.focus()'>\n<div class='title-and-instructions'>\n<h1 class='title normal'>{{'forgot_password.title' | translate}}</h1>\n<label class='forgot-password-instructions content' for='email'>{{'forgot_password.instructions' | translate}}</label>\n<desktop-input class='email' field='forgotPasswordForm.email' label='&#39;forgot_password.placeholder&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' autofocus default-email id='email' name='email' ng-model='$ctrl.email' required type='email' wix-mail-validator>\n</desktop-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n</div>\n<div class='bottom-container with-link'>\n<a ng-href='{{$ctrl.getCanNotAccessEmailLink()}}' target='_self'>{{ 'forgot_password_confirmation.can_not_access_email_link' | translate }}</a>\n<div class='back-next-buttons'>\n<button class='back-btn wix-button is-button-outline' ng-click='$ctrl.onClickBack()' type='button'>{{'forgot_password.back' | translate}}</button>\n<div class='button-spinner'>\n<button class='send-btn wix-button button-hover' name='submit' ng-click='forgotPasswordForm.$valid ? $ctrl.onClickSend() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'forgot_password.send' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/login.html","<form class='login' name='loginForm' novalidate onsubmit='submit.focus()'>\n<h1 class='log-in-title title'>{{$ctrl.title | translate}}</h1>\n<div class='new-user' ng-show='!$ctrl.isEducation'>\n<span translate-values='{brand: $ctrl.getBrandName()}' translate='login.new_to_wix'></span>\n<div class='signup-link' ng-click='$ctrl.onClickSignup()'>{{ 'login.sign_up' | translate }}</div>\n</div>\n<div class='sub-title' ng-show='$ctrl.isEducation'>{{'login.education.sub_title' | translate}}</div>\n<div class='signin-section'>\n<div class='signin-with-email'>\n<desktop-input class='email' error-params='$ctrl.errorParams' field='loginForm.email' label='&#39;login.email&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' autofocus default-email name='email' ng-attr-wix-mail-validator='{{!$ctrl.novalidateEmail()}}' ng-change='$ctrl.resetWarning()' ng-model='$ctrl.email' required type='{{$ctrl.novalidateEmail() ? &#39;text&#39; : &#39;email&#39;}}'>\n</desktop-input>\n<desktop-input class='password' error-params='$ctrl.errorParams' field='loginForm.password' label='&#39;login.password&#39;' server-error='$ctrl.serverError' warning='$ctrl.warning' with-password-visibility='true'>\n<input autocomplete='current-password' name='password' ng-change='$ctrl.resetWarning()' ng-minlength='4' ng-model='$ctrl.password' required type='password'>\n</desktop-input>\n<div class='remember-me-and-forgot-password smaller-font-size'>\n<label class='remember-me-section' for='rememberCheckbox' ng-class='{&#39;is-disabled&#39;: $ctrl.warning}'>\n<div class='remember-me-text'>{{'login.remember_me' | translate}}</div>\n<wix-checkbox class='remember-me' id='rememberCheckbox' ng-disabled='$ctrl.warning' ng-model='$ctrl.rememberMe'></wix-checkbox>\n</label>\n<a class='forgot-password-link' ng-href='{{$ctrl.getAccountRecoveryLink()}}' target='_self'>{{ 'forgot_password.link' | translate }}</a>\n</div>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n<div class='login-button'>\n<div class='button-spinner'>\n<button class='login-btn wix-button' name='submit' ng-class='{&#39;is-button-outline&#39; : !$ctrl.shouldColorSignupButton() &amp;&amp; loginForm.$pristine}' ng-click='loginForm.$valid ? $ctrl.doLogin() : $ctrl.onSubmitInvalid()' ng-disabled='$ctrl.warning' ng-show='!$ctrl.loading' type='submit'>{{'login.login_button' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</div>\n</div>\n<div class='divider'></div>\n<social-signin template-url='&#39;views/social-signin.html&#39;'></social-signin>\n</div>\n<terms-of-use mode='$ctrl.isEducation ? &#39;education&#39; : &#39;login&#39;'></terms-of-use>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/login-email.html","<div class='redesign'>\n<form class='login main-box card-animation' name='loginForm' novalidate onsubmit='submit.focus()'>\n<div class='log-in-title title card-section-1'>{{$ctrl.title | translate}}</div>\n<div class='subtitle card-section-1' ng-hide='$ctrl.isEducation'>\n<span translate-values='{brand: $ctrl.getBrandName()}' translate='login.new_to_wix'></span>\n<a class='signup-link' href ng-click='$ctrl.onClickSignup()'>{{ 'login.sign_up' | translate }}</a>\n</div>\n<div class='subtitle card-section-1' ng-show='$ctrl.isEducation'>{{'login.education.sub_title' | translate}}</div>\n<div class='signin-mail'>\n<div class='signin-with-email card-section-2'>\n<mobile-input class='email' field='loginForm.email' label='&#39;login.email&#39;' redesign='true' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' autofocus default-email name='email' ng-attr-wix-mail-validator='{{!$ctrl.novalidateEmail()}}' ng-model='$ctrl.email' placeholder='{{&#39;login.email&#39; | translate}}' required type='{{$ctrl.novalidateEmail() ? &#39;text&#39; : &#39;email&#39;}}'>\n</mobile-input>\n<input aria-hidden='true' class='hidden-password' name='hiddenPassword' spellcheck='false' tabindex='-1' type='password'>\n<div class='continue-button'>\n<div>\n<button class='login-btn wix-button-redesign' name='submit' ng-class='{&#39;is-button-outline&#39; : loginForm.$pristine}' ng-click='loginForm.$valid ? $ctrl.doLogin() : $ctrl.onSubmitInvalid()' type='submit'>\n<span ng-show='!$ctrl.loading'>{{'login.continue' | translate}}</span>\n<div ng-show='$ctrl.loading'>\n<bouncing-points></bouncing-points>\n</div>\n</button>\n</div>\n</div>\n<a class='forgot-email' ng-click='$ctrl.onClickForgotPassword()' ng-href='{{$ctrl.getAccountRecoveryLink()}}' target='_self'>{{ 'forgot_email.link' | translate }}</a>\n</div>\n<div class='divider card-section-3'>\n<span>{{ 'divider.or' | translate }}</span>\n</div>\n<social-signin apple-button-text='&#39;signin_social.log_in_with_apple&#39;' class='card-section-3' fb-button-text='&#39;signin_social.log_in_with_facebook&#39;' google-button-text='&#39;signin_social.log_in_with_google&#39;' template-url='&#39;views/social-signin.html&#39;'></social-signin>\n</div>\n</form>\n<terms-of-use mode='$ctrl.isEducation ? &#39;education&#39; : &#39;login&#39;'></terms-of-use>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/login-password.html","<div class='redesign'>\n<form class='login main-box card-animation' name='loginForm' novalidate onsubmit='submit.focus()'>\n<button class='back card-section-1' ng-click='$ctrl.onClickBack()' type='button'>{{ 'forgot_password.back' | translate }}</button>\n<div class='log-in-title title card-section-1'>{{$ctrl.title | translate}}</div>\n<div class='subtitle card-section-1'>\n<span>{{$ctrl.email}}</span>\n</div>\n<div class='signin-mail card-section-2'>\n<input aria-hidden='true' class='hidden-email' name='hiddenEmail' ng-value='$ctrl.email' spellcheck='false' tabindex='-1' type='email'>\n<mobile-input class='password' field='loginForm.password' label='&#39;login.password&#39;' redesign='true' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='current-password' autofocus name='password' ng-minlength='4' ng-model='$ctrl.password' placeholder='{{&#39;login.password&#39; | translate}}' required type='password'>\n</mobile-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n<div class='signin-with-email'>\n<div class='continue-button'>\n<div>\n<button class='login-btn wix-button-redesign' name='submit' ng-class='{&#39;is-button-outline&#39; : loginForm.$pristine}' ng-click='loginForm.$valid ? $ctrl.doLogin() : $ctrl.onSubmitInvalid()' type='submit'>\n<span ng-show='!$ctrl.loading'>{{ 'login.login_button' | translate}}</span>\n<div ng-show='$ctrl.loading'>\n<bouncing-points></bouncing-points>\n</div>\n</button>\n</div>\n</div>\n<a class='forgot-email' href ng-click='$ctrl.onClickForgotPassword()' target='_self'>{{ 'forgot_password.link' | translate }}</a>\n</div>\n</div>\n</form>\n<terms-of-use class='small' mode='&#39;login&#39;'></terms-of-use>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/signup.html","<form class='signup' name='signupForm' novalidate onsubmit='submit.focus()'>\n<h1 class='sign-up-title title'>{{$ctrl.title | translate}}</h1>\n<div class='already-user' ng-show='$ctrl.showLoginLink'>\n<span ng-show='!$ctrl.educationType' translate-values='{brand: $ctrl.getBrandName()}' translate='signup.already_have'></span>\n<span ng-show='$ctrl.educationType' translate='signup.education.already_have'></span>\n<div class='login-link' ng-click='$ctrl.onClickLogin()'>{{ 'signup.log_in' | translate }}</div>\n</div>\n<div class='signin-section'>\n<div class='signin-with-email'>\n<desktop-input class='email' error-params='$ctrl.errorParams' field='signupForm.email' label='&#39;signup.email&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' autofocus default-email name='email' ng-model='$ctrl.email' required type='email' wix-mail-validator>\n</desktop-input>\n<desktop-input class='email-confirm' field='signupForm.emailConfirm' label='&#39;signup.confirm_email&#39;' server-error='$ctrl.serverError'>\n<input autocomplete='email' default-email match='$ctrl.email' name='emailConfirm' ng-model='$ctrl.emailConfirm' onpaste='return false' required type='email' wix-mail-validator>\n</desktop-input>\n<desktop-input class='password' field='signupForm.password' label='&#39;signup.password&#39;' server-error='$ctrl.serverError' with-password-strength='true'>\n<input autocomplete='new-password' class='wr-mask' data-hook='signup.password-input' name='password' ng-maxlength='100' ng-minlength='6' ng-model='$ctrl.password' required spellcheck='false' type='password'>\n</desktop-input>\n<desktop-input class='password-confirm' field='signupForm.passwordConfirm' label='&#39;signup.confirm_password&#39;' server-error='$ctrl.serverError'>\n<input match='$ctrl.password' name='passwordConfirm' ng-model='$ctrl.passwordConfirm' required type='password'>\n</desktop-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n<div class='login-button'>\n<div class='button-spinner'>\n<button class='signup-btn wix-button' name='submit' ng-class='{&#39;is-button-outline&#39; : !$ctrl.shouldColorSignupButton() &amp;&amp; signupForm.$pristine}' ng-click='signupForm.$valid ? $ctrl.doSignup() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'signup.signup_button' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</div>\n</div>\n<div class='divider'></div>\n<social-signin template-url='&#39;views/social-signin.html&#39;'></social-signin>\n</div>\n<terms-of-use mode='$ctrl.isEducation ? &#39;education&#39; : &#39;signup&#39;'></terms-of-use>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/desktop-input-tooltip-error.html","<div ng-show='$ctrl.error' translate-values='$ctrl.errorParams' translate='{{$ctrl.getErrorTranslationKey()}}'></div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/desktop-input-tooltip-password-strength.html","<password-strength-content input-value='$ctrl.inputValue'></password-strength-content>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/signup-email.html","<div class='redesign'>\n<form class='signup main-box card-animation' name='loginForm' novalidate onsubmit='submit.focus()'>\n<div class='signup-title title card-section-1'>{{$ctrl.title | translate }}</div>\n<div class='subtitle card-section-1'>\n<span ng-show='!$ctrl.educationType' translate-values='{brand: $ctrl.getBrandName()}' translate='signup.already_have'></span>\n<span ng-show='$ctrl.educationType' translate='signup.education.already_have'></span>\n<a class='signup-link' href ng-click='$ctrl.onClickLogin()'>{{ 'signup.log_in' | translate }}</a>\n</div>\n<div class='signup-mail card-section-2'>\n<div class='signup-with-email'>\n<mobile-input class='email' error-params='$ctrl.errorParams' field='loginForm.email' label='&#39;login.email&#39;' redesign='true' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' autofocus default-email name='email' ng-attr-wix-mail-validator='{{!$ctrl.novalidateEmail()}}' ng-model='$ctrl.email' placeholder='{{&#39;login.email&#39; | translate}}' required type='{{$ctrl.novalidateEmail() ? &#39;text&#39; : &#39;email&#39;}}'>\n</mobile-input>\n<div class='continue-button continue-signup'>\n<div>\n<button class='signup-btn wix-button-redesign' name='submit' ng-class='{&#39;is-button-outline&#39; : loginForm.$pristine}' ng-click='loginForm.$valid ? $ctrl.doSignup() : $ctrl.onSubmitInvalid()' type='submit'>\n<span ng-show='!$ctrl.loading'>{{'signup.continue' | translate}}</span>\n<div ng-show='$ctrl.loading'>\n<bouncing-points></bouncing-points>\n</div>\n</button>\n</div>\n</div>\n</div>\n<div class='divider card-section-3'>\n<span>{{ 'divider.or' | translate }}</span>\n</div>\n<social-signin apple-button-text='&#39;signin_social.sign_up_with_apple&#39;' class='card-section-3' fb-button-text='&#39;signin_social.sign_up_with_facebook&#39;' google-button-text='&#39;signin_social.sign_up_with_google&#39;' template-url='&#39;views/social-signin.html&#39;'></social-signin>\n</div>\n</form>\n<terms-of-use class='small' mode='&#39;login&#39;'></terms-of-use>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/signup-password.html","<div class='redesign'>\n<form class='signup main-box card-animation' name='signupForm' novalidate onsubmit='submit.focus()'>\n<button class='back card-section-1' ng-click='$ctrl.onClickBack()' type='button'>{{ 'forgot_password.back' | translate }}</button>\n<div class='signup-title title card-section-1'>{{$ctrl.title | translate}}</div>\n<div class='subtitle card-section-1'>\n<span>{{ 'signup.already_have' | translate }}</span>\n<a class='signup-link' href ng-click='$ctrl.onClickLogin()'>{{ 'signup.log_in' | translate }}</a>\n</div>\n<div class='signup-password card-section-2'>\n<mobile-input class='password' field='signupForm.password' label='&#39;signup.password&#39;' redesign='true' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='new-password' autofocus name='password' ng-minlength='6' ng-model='$ctrl.password' placeholder='{{&#39;signup.password&#39; | translate}}' required type='password'>\n</mobile-input>\n<mobile-input class='password-confirm' field='signupForm.passwordConfirm' label='&#39;signup.confirm_password&#39;' redesign='true' server-error='$ctrl.serverError'>\n<input match='$ctrl.password' name='passwordConfirm' ng-model='$ctrl.passwordConfirm' placeholder='{{&#39;signup.confirm_password&#39; | translate}}' required type='password'>\n</mobile-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n<div class='continue-button'>\n<div>\n<button class='signup-btn wix-button-redesign' name='submit' ng-class='{&#39;is-button-outline&#39; : signupForm.$pristine}' ng-click='signupForm.$valid ? $ctrl.doSignup() : $ctrl.onSubmitInvalid()' type='submit'>\n<span ng-show='!$ctrl.loading'>{{ 'signup.signup_button' | translate}}</span>\n<div ng-show='$ctrl.loading'>\n<bouncing-points></bouncing-points>\n</div>\n</button>\n</div>\n</div>\n</div>\n</form>\n<terms-of-use class='small' mode='&#39;signup&#39;'></terms-of-use>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/social-signin.html","<div class='sozial-buttons'>\n<div class='sozial-button-and-spinner fazebook-container'>\n<button class='signin-sozial-fazebook sozial-login fazebook' facebook-login fb-loading='$ctrl.fbLoading' ng-click='$ctrl.socialClicked(&#39;facebook&#39;)' ng-show='!$ctrl.fbLoading' tabindex='0' type='button'>\n<div class='icon-and-text'>\n<div class='icon'>\n<div class='login-svg-font-icons-fazebook'></div>\n</div>\n<div class='signin-button-text'>{{ 'signin_social.continue_with_facebook' | translate }}</div>\n</div>\n</button>\n<div class='spinner-container' ng-show='$ctrl.fbLoading'>\n<spinner></spinner>\n</div>\n</div>\n<div class='sozial-button-and-spinner zoogle-container'>\n<button class='signin-sozial-zoogle sozial-login zoogle' google-loading='$ctrl.googleLoading' google-login ng-click='$ctrl.socialClicked(&#39;google&#39;)' ng-show='!$ctrl.googleLoading' tabindex='0' type='button'>\n<div class='icon-and-text'>\n<div class='icon'>\n<div class='login-svg-font-icons-zoogle'></div>\n</div>\n<div class='signin-button-text'>{{ 'signin_social.continue_with_google' | translate }}</div>\n</div>\n</button>\n<div class='spinner-container' ng-show='$ctrl.googleLoading'>\n<spinner></spinner>\n</div>\n</div>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/reset-password.html","<form class='reset-password' name='resetPasswordForm' novalidate onsubmit='submit.focus()'>\n<div class='reset-password-title title'>{{'reset_password.title' | translate}}</div>\n<desktop-input class='password' field='resetPasswordForm.password' label='&#39;reset_password.password&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true' with-password-strength='true'>\n<input autocomplete='new-password' autofocus class='wr-mask' name='password' ng-maxlength='100' ng-minlength='6' ng-model='$ctrl.password' required type='password'>\n</desktop-input>\n<desktop-input class='password-confirm' field='resetPasswordForm.passwordConfirm' label='&#39;reset_password.confirm_password&#39;' server-error='$ctrl.serverError' with-password-visibility='true'>\n<input match='$ctrl.password' name='passwordConfirm' ng-model='$ctrl.passwordConfirm' required type='password'>\n</desktop-input>\n<div class='button-spinner'>\n<button class='reset-btn wix-button' name='submit' ng-click='resetPasswordForm.$valid &amp;&amp; $ctrl.doResetPassword()' ng-show='!$ctrl.loading' type='submit'>{{'reset_password.button' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/enter-code.html","<div class='old'>\n<form class='main-box card-animation' name='verifyPhone2FAForm' ng-class='{&#39;fallback-mode&#39;: true}' novalidate onsubmit='submit.focus()'>\n<div class='header-container'>\n<div class='back-button-container'>\n<button class='back' ng-click='$ctrl.onClickBack()' ng-if='!$ctrl.isRecoveryMode' type='button'>{{ 'enter_code.back_button.title' | translate }}</button>\n</div>\n<div class='enter-code-title title'>{{$ctrl.titleKey | translate}}</div>\n</div>\n<label class='content subtitle' translate-values='{twoFAHint: (!$ctrl.isRecoveryMode) ? $ctrl.twoFAHint : $ctrl.phoneHint}' translate='{{$ctrl.descriptionKey}}'></label>\n<desktop-input class='code' error-params='$ctrl.errorParams' field='verifyPhone2FAForm.verificationCode' label='$ctrl.fallbackEmailMode ? &#39;enter_code.fallback.enter_code&#39; : &#39;enter_code.enter_code&#39;' server-error='$ctrl.serverError'>\n<input autocomplete='one-time-code' autofocus name='verificationCode' ng-maxlength='6' ng-minlength='6' ng-model='$ctrl.verificationCode' ng-pattern='/^[0-9]*$/' required type='text'>\n</desktop-input>\n<label class='remember-me-section' ng-if='!$ctrl.isRecoveryMode'>\n<div class='remember-me-text'>{{'enter_code.remeber_this_device' | translate}}</div>\n<wix-checkbox class='remember-this-device' ng-model='$ctrl.rememberThisDevice'></wix-checkbox>\n</label>\n<div class='button-container' ng-class='{&#39;fallback-mode&#39;: true}'>\n<div class='resend-code-button-container' ng-if='$ctrl.showResendCodeLink()'>\n<button append-to-body='true' class='is-button-outline wix-button' is-open='$ctrl.resendCodeTooltipOpen' ng-click='$ctrl.onResendCode()' ng-if='!$ctrl.loadingResendcode' placement='left' tooltip-class='dark-tooltip' tooltip-trigger='false' type='button' wix-tooltip='{{$ctrl.resendCodeTooltipText | translate}}'>{{ 'enter_code.resend_code' | translate }}</button>\n<div class='bouncing-points-container' ng-if='$ctrl.loadingResendcode'>\n<bouncing-points></bouncing-points>\n</div>\n</div>\n<button class='wix-button verify-btn' name='submit' ng-click='verifyPhone2FAForm.$valid &amp;&amp; $ctrl.onVerify()' ng-if='!$ctrl.loadingVerification' type='submit'>{{'enter_code.button' | translate}}</button>\n<div class='bouncing-points-container' ng-if='$ctrl.loadingVerification'>\n<bouncing-points></bouncing-points>\n</div>\n</div>\n<div class='hints-container'>\n<label ng-show='$ctrl.showResendEmailHint'>{{'enter_code.resend_email_hint' | translate}}</label>\n</div>\n<div class='links-container'>\n<div class='voice-call-container' ng-show='$ctrl.currentTwoFAMethod === &#39;Phone&#39;' wix-experiment-if='specs.ident.ShowVoiceCall2FA'>\n<label>{{'enter_code.call_me_text' | translate}}</label>\n<label append-to-body='true' class='voice-call-link' is-open='$ctrl.voiceCallTooltipOpen' ng-class='{error: $ctrl.voiceCallHasError}' ng-click='$ctrl.onClickVoiceCall()' placement='top' tooltip-class='dark-tooltip' tooltip-trigger='false' wix-tooltip='{{$ctrl.voiceCallTooltipText | translate}}'>{{'enter_code.call_me_link' | translate}}</label>\n</div>\n<div class='switch-methods-container' ng-if='$ctrl.shouldShowSwitchMethodOption'>\n<a class='switch-method' ng-click='$ctrl.onSwitchMethod(method)' ng-repeat='method in $ctrl.switchMethods' translate='{{$ctrl.getSwitchMethodKey(method)}}'></a>\n</div>\n<a ng-class='{&#39;lost-access-link&#39;: true}' ng-click='$ctrl.onLostAccessToFactor()' ng-if='$ctrl.showLostAccessToPhoneLink()'>{{ $ctrl.fallbackEmailMode ? 'enter_code.lost_access_to_email' : 'enter_code.lost_access_to_phone' | translate }}</a>\n<label class='check-spam' ng-show='$ctrl.currentTwoFAMethod === &#39;Email&#39; || $ctrl.fallbackEmailMode'>{{'enter_code.email.check_spam' | translate}}</label>\n</div>\n</form>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/desktop/enter-code-redesign.html","<div class='redesign'>\n<form class='main-box card-animation' name='verifyPhone2FAForm' novalidate onsubmit='submit.focus()'>\n<div class='header-container'>\n<button class='back' ng-click='$ctrl.onClickBack()' ng-if='!$ctrl.isRecoveryMode' type='button'>{{ 'enter_code.back_button.title' | translate }}</button>\n<div class='enter-code-title title'>{{'enter_code.title' | translate}}</div>\n</div>\n<label class='content subtitle' translate-values='{mobileNumber: $ctrl.phoneHint}' translate='enter_code.description'></label>\n<mobile-input class='code' field='verifyPhone2FAForm.verificationCode' label='&#39;enter_code.enter_code&#39;' redesign='true' server-error='$ctrl.serverError'>\n<input autocomplete='one-time-code' autofocus name='verificationCode' ng-maxlength='6' ng-minlength='6' ng-model='$ctrl.verificationCode' ng-pattern='/^[0-9]*$/' placeholder='{{&#39;enter_code.enter_code&#39; | translate}}' required type='text'>\n</mobile-input>\n<label class='remember-me-section' ng-if='!$ctrl.isRecoveryMode'>\n<div class='remember-me-text'>{{'enter_code.remeber_this_device' | translate}}</div>\n<wix-checkbox class='remember-this-device' ng-model='$ctrl.rememberThisDevice'></wix-checkbox>\n</label>\n<div class='button-container'>\n<button class='verify-btn is-button-outline wix-button-redesign' name='submit' ng-click='verifyPhone2FAForm.$valid &amp;&amp; $ctrl.onVerify()' ng-if='!$ctrl.loadingVerification' type='submit'>{{'enter_code.button' | translate}}</button>\n<div class='bouncing-points-container' ng-if='$ctrl.loadingVerification'>\n<bouncing-points></bouncing-points>\n</div>\n</div>\n<div class='links-container'>\n<div class='resend-code-container'>\n<a append-to-body='true' is-open='$ctrl.resendCodeTooltipOpen' ng-click='$ctrl.onResendCode()' placement='right' tooltip-trigger='false' wix-tooltip='{{$ctrl.resendCodeTooltipText | translate}}'>\n{{ 'enter_code.resend_code' | translate }}\n</a>\n<div class='spinner-container' ng-show='$ctrl.loadingResendcode'>\n<spinner></spinner>\n</div>\n</div>\n<a ng-click='$ctrl.onLostAccessToPhone()'>{{ 'enter_code.lost_access_to_phone' | translate }}</a>\n</div>\n</form>\n</div>\n");
}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/account-verification.html","<form name='accountVerificationForm' novalidate onsubmit='submit.focus()'>\n<div class='title-and-content'>\n<div class='account-verification-title title'>{{'account_verification.title' | translate}}</div>\n<div class='account-verification-content content'>{{'account_verification.content' | translate:{email: $ctrl.getEmail()} }}</div>\n</div>\n<div class='input-info'>\n<mobile-input class='password' field='accountVerificationForm.password' label='&#39;account_verification.placeholder&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input name='password' ng-model='$ctrl.password' required type='password'>\n</mobile-input>\n<div class='button-and-forgot-password'>\n<button class='verify-btn wix-button submit' name='submit' ng-click='accountVerificationForm.$valid ? $ctrl.verifyAccount() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'account_verification.next' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n<a class='forgot-password-link' href ng-click='$ctrl.onClickForgotPassword()'>{{ 'forgot_password.link' | translate }}</a>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/enter-email.html","<form name='enterEmailForm' novalidate onsubmit='submit.focus()'>\n<div class='enter-email-title title'>{{'enter_email.title' | translate}}</div>\n<mobile-input class='email' field='enterEmailForm.email' label='&#39;enter_email.placeholder&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' class='enter-email-input' name='email' ng-model='$ctrl.email' required type='email' wix-mail-validator>\n</mobile-input>\n<div class='button-container'>\n<button class='enter-email-send wix-button submit' name='submit' ng-click='enterEmailForm.$valid ? $ctrl.sendEmailAddress() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'enter_email.send' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/forgot-password.html","<form class='forgot-password' name='forgotPasswordForm' novalidate onsubmit='submit.focus()'>\n<div class='title-and-instructions'>\n<h1 class='title normal'>{{'forgot_password.title' | translate}}</h1>\n<label class='forgot-password-instructions content' for='email'>{{'forgot_password.instructions' | translate}}</label>\n<mobile-input class='email' field='forgotPasswordForm.email' label='&#39;forgot_password.placeholder&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' default-email id='email' name='email' ng-model='$ctrl.email' required type='email' wix-mail-validator>\n</mobile-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n</div>\n<div class='back-next-buttons'>\n<button class='back-btn wix-button is-button-outline' ng-click='$ctrl.onClickBack()' type='button'>{{'forgot_password.back' | translate}}</button>\n<button class='send-btn wix-button button-hover' name='submit' ng-click='forgotPasswordForm.$valid ? $ctrl.onClickSend() :  $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'forgot_password.send' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/login.html","<form class='login' name='loginForm' ng-class='{&#39;is-email-focus&#39;: $ctrl.isEmailFocus}' novalidate onsubmit='submit.focus()'>\n<div class='form-header'>\n<div class='log-in-title title'>{{$ctrl.title | translate}}</div>\n<div class='new-user' ng-show='!$ctrl.isEducation'>\n<span translate-values='{brand: $ctrl.getBrandName()}' translate='login.new_to_wix'></span>\n<div class='signup-link' ng-click='$ctrl.onClickSignup()'>{{ 'login.sign_up' | translate }}</div>\n</div>\n<div class='sub-title' ng-show='$ctrl.isEducation'>{{'login.education.sub_title' | translate}}</div>\n</div>\n<div class='form-content'>\n<div class='email-no-focus'>\n<social-signin class='mobile' template-url='&#39;views/social-signin.html&#39;'></social-signin>\n<div class='or-use-email'>\n<div class='separator'></div>\n<div class='text'>{{'login.use_email' | translate}}</div>\n<div class='separator'></div>\n</div>\n</div>\n<div class='email-section' ng-click='$ctrl.isEmailFocus=true'>\n<mobile-input class='email' field='loginForm.email' label='&#39;login.email&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' class='email' default-email name='email' ng-attr-wix-mail-validator='{{!$ctrl.novalidateEmail()}}' ng-model='$ctrl.email' required type='{{$ctrl.novalidateEmail() ? &#39;text&#39; : &#39;email&#39;}}'>\n</mobile-input>\n</div>\n<div class='email-focus' ng-if='$ctrl.isEmailFocus'>\n<mobile-input class='password' error-params='$ctrl.errorParams' field='loginForm.password' label='&#39;login.password&#39;' server-error='$ctrl.serverError' warning='$ctrl.warning' with-password-visibility='true'>\n<input autocomplete='current-password' class='password' name='password' ng-minlength='4' ng-model='$ctrl.password' required type='password'>\n</mobile-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n<a class='forgot-password-link' ng-href='{{$ctrl.getAccountRecoveryLink()}}' target='_self' wix-experiment-if='specs.users.MobileAccountRecovery'>{{ 'forgot_password.link' | translate }}</a>\n<a class='forgot-password-link' href ng-click='$ctrl.onClickForgotPassword()' wix-experiment-if='!specs.users.MobileAccountRecovery'>{{ 'forgot_password.link' | translate }}</a>\n<button class='login-btn wix-button' name='submit' ng-click='loginForm.$valid ? $ctrl.doLogin() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'login.login_button' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n<div class='sozial-signin-icons'>\n<div class='text'>{{ 'login.or_login_with' | translate}}</div>\n<social-signin template-url='&#39;views/mobile/social-signin-icons.html&#39;'></social-signin>\n</div>\n</div>\n<terms-of-use class='small' mode='$ctrl.isEducation ? &#39;education&#39; : &#39;login&#39;'></terms-of-use>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/signup.html","<form class='signup' name='signupForm' ng-class='{&#39;is-email-focus&#39;: $ctrl.isEmailFocus}' novalidate onsubmit='submit.focus()'>\n<div class='form-header'>\n<div class='sign-up-title title'>{{$ctrl.title | translate}}</div>\n<div class='already-user' ng-class='{&#39;education&#39;: $ctrl.educationType}' ng-show='$ctrl.showLoginLink'>\n<span ng-show='!$ctrl.educationType' translate-values='{brand: $ctrl.getBrandName()}' translate='signup.already_have'></span>\n<span ng-show='$ctrl.educationType' translate='signup.education.already_have'></span>\n<div class='login-link' ng-click='$ctrl.onClickLogin()'>{{ 'signup.log_in' | translate }}</div>\n</div>\n</div>\n<div class='form-content'>\n<div class='email-no-focus'>\n<social-signin class='mobile' template-url='&#39;views/social-signin.html&#39;'></social-signin>\n<div class='or-use-email'>\n<div class='separator'></div>\n<div class='text'>{{'login.use_email' | translate}}</div>\n<div class='separator'></div>\n</div>\n</div>\n<div class='email-section' ng-click='$ctrl.isEmailFocus=true'>\n<mobile-input class='email' error-params='$ctrl.errorParams' field='signupForm.email' label='&#39;signup.email&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true'>\n<input autocomplete='email' default-email name='email' ng-model='$ctrl.email' required type='email' wix-mail-validator>\n</mobile-input>\n</div>\n<div class='email-focus' ng-if='$ctrl.isEmailFocus'>\n<mobile-input class='email-confirm' field='signupForm.emailConfirm' label='&#39;signup.confirm_email&#39;' server-error='$ctrl.serverError'>\n<input default-email match='$ctrl.email' name='emailConfirm' ng-model='$ctrl.emailConfirm' required type='email' wix-mail-validator>\n</mobile-input>\n<mobile-input class='password' field='signupForm.password' label='&#39;signup.mobile_choose_password&#39;' server-error='$ctrl.serverError' with-password-strength='true'>\n<input autocomplete='new-password' class='wr-mask' data-hook='signup.password-input' name='password' ng-minlength='6' ng-model='$ctrl.password' required spellcheck='false' type='password'>\n</mobile-input>\n<div class='recaptcha-widget' id='recaptcha-widget'></div>\n<div class='signup-buttons'>\n<button class='signup-btn wix-button' name='submit' ng-click='signupForm.$valid ? $ctrl.doSignup() : $ctrl.onSubmitInvalid()' ng-show='!$ctrl.loading' type='submit'>{{'signup.signup_button' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n<div class='text-or'>{{'signin_social.or' | translate}}</div>\n<social-signin template-url='&#39;views/mobile/social-signin-icons.html&#39;'></social-signin>\n</div>\n</div>\n<terms-of-use class='small' mode='$ctrl.isEducation ? &#39;education&#39; : &#39;signup&#39;'></terms-of-use>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/social-signin.html","<div class='sozial-buttons'>\n<div class='sozial-login fazebook fazebook-login-button' facebook-login fb-loading='$ctrl.fbLoading' ng-click='$ctrl.socialClicked(&#39;facebook&#39;)' ng-if='!$ctrl.isEducation' ng-show='!$ctrl.fbLoading'>\n<div class='text'>{{'signin_social.continue_with_facebook' | translate}}</div>\n</div>\n<div class='sozial-spinner-container' ng-show='$ctrl.fbLoading'>\n<spinner></spinner>\n</div>\n<div class='sozial-login zoogle zoogle-login-button' google-loading='$ctrl.googleLoading' google-login ng-click='$ctrl.socialClicked(&#39;google&#39;)' ng-show='!$ctrl.googleLoading'>\n<div class='text'>{{'signin_social.continue_with_google' | translate}}</div>\n</div>\n<div class='sozial-spinner-container' ng-show='$ctrl.googleLoading'>\n<spinner></spinner>\n</div>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/social-signin-icons.html","<div class='sozial-icons'>\n<div class='sozial-icon-container fazebook-container' ng-if='!$ctrl.isEducation'>\n<div class='sozial-login fazebook fazebook-login-button' facebook-login fb-loading='$ctrl.fbLoading' ng-click='$ctrl.socialClicked(&#39;facebook&#39;)' ng-show='!$ctrl.fbLoading'>\n<div class='login-svg-font-icons-fazebook'></div>\n</div>\n<div class='sozial-spinner-container' ng-show='$ctrl.fbLoading'>\n<spinner></spinner>\n</div>\n</div>\n<div class='sozial-icon-container'>\n<div class='sozial-login zoogle zoogle-login-button new' google-loading='$ctrl.googleLoading' google-login ng-click='$ctrl.socialClicked(&#39;google&#39;)' ng-show='!$ctrl.googleLoading'>\n<div class='google-icon-small-button'></div>\n</div>\n<div class='sozial-spinner-container' ng-show='$ctrl.googleLoading'>\n<spinner></spinner>\n</div>\n</div>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/thank-you.html","<div class='title'>{{'thank_you.title' | translate}}</div>\n<div class='sub-title'>{{'thank_you.subtitle' | translate}}</div>\n<div class='user-email'>{{ $ctrl.getUserEmail() }}</div>\n<div class='content'>{{'thank_you.content' | translate}}</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/reset-password.html","<form class='reset-password' name='resetPasswordForm' novalidate onsubmit='submit.focus()'>\n<div class='reset-password-title title'>{{'reset_password.title' | translate}}</div>\n<mobile-input class='password' field='resetPasswordForm.password' label='&#39;reset_password.password&#39;' server-error='$ctrl.serverError' show-error-on-general-error='true' with-password-strength='true'>\n<input autocomplete='new-password' class='wr-mask' name='password' ng-minlength='6' ng-model='$ctrl.password' required type='password'>\n</mobile-input>\n<mobile-input class='password-confirm' field='resetPasswordForm.passwordConfirm' label='&#39;reset_password.confirm_password&#39;' server-error='$ctrl.serverError' with-password-visibility='true'>\n<input match='$ctrl.password' name='passwordConfirm' ng-model='$ctrl.passwordConfirm' required type='password'>\n</mobile-input>\n<div class='button-spinner'>\n<button class='reset-btn wix-button' name='submit' ng-click='resetPasswordForm.$valid &amp;&amp; $ctrl.doResetPassword()' ng-show='!$ctrl.loading' type='submit'>{{'reset_password.button' | translate}}</button>\n<div class='spinner-container' ng-show='$ctrl.loading'>\n<spinner></spinner>\n</div>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/mobile/enter-code.html","<div class='old'>\n<form class='main-box card-animation' name='verifyPhone2FAForm' ng-class='{&#39;fallback-mode&#39;: $ctrl.fallbackEmailMode}' novalidate onsubmit='submit.focus()'>\n<div class='header-container'>\n<button class='back' ng-click='$ctrl.onClickBack()' ng-if='!$ctrl.isRecoveryMode' type='button'>{{ 'enter_code.back_button.title' | translate }}</button>\n<div class='enter-code-title title'>{{$ctrl.titleKey | translate}}</div>\n</div>\n<label class='content subtitle' translate-values='{twoFAHint: !$ctrl.isRecoveryMode ? $ctrl.twoFAHint : $ctrl.phoneHint}' translate='{{$ctrl.descriptionKey}}'></label>\n<mobile-input class='code' error-params='$ctrl.errorParams' field='verifyPhone2FAForm.verificationCode' label='$ctrl.fallbackEmailMode ? &#39;enter_code.fallback.enter_code&#39; : &#39;enter_code.enter_code&#39;' server-error='$ctrl.serverError'>\n<input autocomplete='one-time-code' autofocus inputmode='decimal' name='verificationCode' ng-maxlength='6' ng-minlength='6' ng-model='$ctrl.verificationCode' ng-pattern='/^[0-9]*$/' required type='text'>\n</mobile-input>\n<label class='remember-me-section' ng-if='!$ctrl.isRecoveryMode'>\n<div class='remember-me-text'>{{'enter_code.remeber_this_device' | translate}}</div>\n<wix-checkbox class='remember-this-device' ng-model='$ctrl.rememberThisDevice'></wix-checkbox>\n</label>\n<div class='button-container'>\n<button class='verify-btn is-button-outline wix-button' name='submit' ng-click='verifyPhone2FAForm.$valid &amp;&amp; $ctrl.onVerify()' ng-if='!$ctrl.loadingVerification' type='submit'>{{'enter_code.button' | translate}}</button>\n<div class='bouncing-points-container' ng-if='$ctrl.loadingVerification'>\n<bouncing-points></bouncing-points>\n</div>\n</div>\n<div class='links-container'>\n<div class='method-related-links-container'>\n<div class='resend-code-container' ng-if='$ctrl.showResendCodeLink()'>\n<a append-to-body='true' is-open='$ctrl.resendCodeTooltipOpen' ng-click='$ctrl.onResendCode()' placement='right' tooltip-class='dark-tooltip' tooltip-trigger='false' wix-tooltip='{{$ctrl.resendCodeTooltipText | translate}}'>\n{{ 'enter_code.resend_code' | translate }}\n</a>\n<div class='spinner-container' ng-show='$ctrl.loadingResendcode'>\n<spinner></spinner>\n</div>\n</div>\n<div append-to-body='true' class='voice-call-container' is-open='$ctrl.voiceCallTooltipOpen' ng-class='{error: $ctrl.voiceCallHasError}' ng-click='$ctrl.onClickVoiceCall()' ng-show='$ctrl.currentTwoFAMethod === &#39;Phone&#39;' placement='top' tooltip-class='dark-tooltip' tooltip-trigger='false' wix-experiment-if='specs.ident.ShowVoiceCall2FA' wix-tooltip='{{$ctrl.voiceCallTooltipText | translate}}'>\n<label class='voice-call-link'>{{'enter_code.call_me_text' | translate}}</label>\n<label class='voice-call-link'>{{'enter_code.call_me_link' | translate}}</label>\n</div>\n</div>\n<div class='switch-methods-container' ng-if='$ctrl.shouldShowSwitchMethodOption'>\n<a class='switch-method' ng-click='$ctrl.onSwitchMethod(method)' ng-repeat='method in $ctrl.switchMethods' translate='{{$ctrl.getSwitchMethodKey(method)}}'></a>\n</div>\n<div class='lost-access-link' ng-if='$ctrl.showLostAccessToPhoneLink()'>\n<span>{{ $ctrl.fallbackEmailMode ? 'enter_code.lost_access_to_email' : 'enter_code.lost_access_to_phone' | translate }}</span>\n<a ng-click='$ctrl.onLostAccessToFactor()'>{{ 'enter_code.read_more' | translate }}</a>\n</div>\n</div>\n</form>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/forgot-password-confirmation.html","<form class='forgot-password-confirmation'>\n<h1 class='title normal'>{{'forgot_password_confirmation.title' | translate}}</h1>\n<div class='content'>{{'forgot_password_confirmation.content' | translate}}</div>\n<div class='button'>\n<button class='done-btn wix-button button-hover' ng-click='$ctrl.onClickDone($event)' type='submit'>{{'forgot_password_confirmation.done' | translate}}</button>\n</div>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/email-verified-confirmation.html","<div class='email-verification-stage-1' ng-if='$ctrl.emailSentScreen === false'>\n<form class='email-verified-confirmation' ng-if='$ctrl.errorCode === 0'>\n<div class='title'>{{'email_verified_confirmation.title' | translate}}</div>\n<div class='content'>{{'email_verified_confirmation.content' | translate}}</div>\n<div class='button'>\n<a class='done-btn wix-button' ng-href='{{$ctrl.getHomePage()}}' target='_self'>{{'email_verified_confirmation.done' | translate}}</a>\n</div>\n</form>\n<div class='email-verified-error' ng-if='$ctrl.errorCode !== 0'>\n<form class='general-error' ng-if='!$ctrl.isCrossAccountVerificationAttempt'>\n<div class='title'>{{'email_verified_error.title' | translate}}</div>\n<div class='content'>{{'email_verified_error.content' | translate}}</div>\n<div class='done-btn wix-button' ng-click='$ctrl.sendVerificationEmail()'>{{'email_verified_error.done' | translate}}</div>\n</form>\n<form class='cross-account-error' ng-if='$ctrl.isCrossAccountVerificationAttempt'>\n<div class='title' translate-values='$ctrl.translationData' translate='email_verified_cross_account_error.title'></div>\n<div class='content' translate-values='$ctrl.translationData' translate='email_verified_cross_account_error.content'></div>\n<div class='done-btn wix-button' ng-click='$ctrl.goToLoginWithMail()'>{{'email_verified_cross_account_error.done' | translate:$ctrl.translationData}}</div>\n</form>\n</div>\n</div>\n<div class='email-verification-stage-2' ng-if='$ctrl.emailSentScreen === true'>\n<form class='email-verified-confirmation'>\n<div class='title'>{{'email_verified_email_sent.title' | translate}}</div>\n<div class='content'>{{'email_verified_email_sent.content' | translate}}</div>\n<div class='button'>\n<a class='done-btn wix-button' href='https://www.wix.com' target='_self'>{{'email_verified_email_sent.done' | translate}}</a>\n</div>\n</form>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/reset-password-confirmation.html","<form class='reset-password-confirmation'>\n<div class='title'>{{'reset_password_confirmation.title' | translate}}</div>\n<div class='content' ng-if='!$ctrl.canNotAccessEmailRecovery'>{{'reset_password_confirmation.content' | translate}}</div>\n<div class='content' ng-if='$ctrl.canNotAccessEmailRecovery'>\n<div class='sub-title'>{{'reset_password_confirmation.content' | translate}}</div>\n<div class='main' ng-if='$ctrl.canNotAccessEmailRecovery'>{{'reset_password_confirmation.can_not_access_email.content' | translate}}</div>\n</div>\n<div class='button'>\n<a class='done-reset-confirm-btn wix-button' ng-click='$ctrl.canNotAccessEmailRecovery &amp;&amp; $ctrl.recoveryModeSelection(&#39;account settings&#39;)' ng-href='{{$ctrl.getMainButtonUrl()}}'>{{$ctrl.getMainButtonText() | translate}}</a>\n</div>\n<a class='home-link' ng-click='$ctrl.canNotAccessEmailRecovery &amp;&amp; $ctrl.recoveryModeSelection(&#39;dashboard&#39;)' ng-href='{{$ctrl.getHomePageUrl()}}' ng-if='$ctrl.canNotAccessEmailRecovery'>{{ 'reset_password_confirmation.can_not_access_email.home' | translate }}</a>\n</form>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/login-dialog.html","<div class='container' ng-class='{&#39;mobile&#39;: $ctrl.isMobile(), &#39;desktop&#39;: !$ctrl.isMobile(), &#39;new&#39;: $ctrl.isRedesign()}'>\n<div class='header' ng-class='{&#39;new&#39;: $ctrl.isRedesign()}'>\n<img alt='Wix' class='wix-logo' ng-if='$ctrl.showWixLogo()' relative-src='images/wix-logo.svg'>\n<img alt='Wix Education' class='wix-logo' ng-if='$ctrl.isWixEducation()' relative-src='images/wix-education-logo.svg'>\n<img alt='Editor X' class='editor-x-logo' ng-if='$ctrl.isEditorX()'>\n<a aria-label='back to wix.com' class='x-close login-svg-font-icons-x' delay-href ng-href='{{$ctrl.getOriginUrl()}}' ng-show='$ctrl.shouldShowX()' wix-bi-args='{context: $ctrl.biEvents.getContext($ctrl.getContext()), version: $ctrl.isRedesign() ? &#39;new&#39;: &#39;old&#39;}' wix-bi='DIALOG_CLOSED'></a>\n</div>\n<login ng-if='$ctrl.getContext() === &#39;login&#39;'></login>\n<login-email ng-if='$ctrl.getContext() === &#39;login-email&#39;'></login-email>\n<login-password ng-if='$ctrl.getContext() === &#39;login-password&#39;'></login-password>\n<signup ng-if='$ctrl.getContext() === &#39;signup&#39;'></signup>\n<signup-email ng-if='$ctrl.getContext() === &#39;signup-email&#39;'></signup-email>\n<signup-password ng-if='$ctrl.getContext() === &#39;signup-password&#39;'></signup-password>\n<forgot-password ng-if='$ctrl.getContext() === &#39;forgot-password&#39;'></forgot-password>\n<forgot-password-confirmation ng-if='$ctrl.getContext() === &#39;forgot-password-confirmation&#39;'></forgot-password-confirmation>\n<email-verified-confirmation ng-if='$ctrl.getContext() === &#39;email-verified-confirmation&#39;'></email-verified-confirmation>\n<account-verification ng-if='$ctrl.getContext() === &#39;account-verification&#39;'></account-verification>\n<enter-email ng-if='$ctrl.getContext() === &#39;enter-email&#39;'></enter-email>\n<thank-you ng-if='$ctrl.getContext() === &#39;thank-you&#39;'></thank-you>\n<reset-password ng-if='$ctrl.getContext() === &#39;reset-password&#39;'></reset-password>\n<reset-password-confirmation ng-if='$ctrl.getContext() === &#39;reset-password-confirmation&#39;'></reset-password-confirmation>\n<big-loader ng-if='$ctrl.getContext() === &#39;gdomain&#39;'></big-loader>\n<enter-code ng-if='$ctrl.getContext() === &#39;enter-code&#39;'></enter-code>\n</div>\n")}]);try{angular.module("loginPreload")}catch(e){angular.module("loginPreload",[])}angular.module("loginPreload").run(["$templateCache",function(a){a.put("views/social-signin.html","<div class='sozial-buttons new'>\n<div class='social-button google-button' ng-if='!$ctrl.hideGoogleButton &amp;&amp; $ctrl.switchSocialButtonsLocation'>\n<button class='buttonContentWrapper social-btn' google-error='$ctrl.googleError' google-loading='$ctrl.googleLoading' google-login google-pre-login-error='$ctrl.googlePreLoginError' ng-click='$ctrl.socialClicked(&#39;google&#39;)' ng-show='!$ctrl.googleLoading' tabindex='0' type='button'>\n<div class='buttonIcon'>\n<div class='buttonSvgImage'></div>\n</div>\n<span class='buttonContents' ng-if='$ctrl.googleButtonText'>{{ $ctrl.googleButtonText | translate }}</span>\n<span class='buttonContents' ng-if='!$ctrl.googleButtonText'>{{ 'signin_social.continue_with_google' | translate }}</span>\n</button>\n<div ng-show='$ctrl.googleLoading'>\n<bouncing-points class='color'></bouncing-points>\n</div>\n</div>\n<div class='social-button facebook-button' ng-if='!$ctrl.isEducation &amp;&amp; !$ctrl.hideFacebookButton'>\n<button class='buttonContentWrapper social-btn' facebook-login fb-error='$ctrl.fbError' fb-loading='$ctrl.fbLoading' ng-click='$ctrl.socialClicked(&#39;facebook&#39;)' ng-show='!$ctrl.fbLoading' tabindex='0' type='button'>\n<div class='buttonIcon'>\n<div class='buttonSvgImage'></div>\n</div>\n<span class='buttonContents' ng-if='$ctrl.fbButtonText'>{{ $ctrl.fbButtonText | translate }}</span>\n<span class='buttonContents' ng-if='!$ctrl.fbButtonText'>{{ 'signin_social.continue_with_facebook' | translate }}</span>\n</button>\n<div ng-show='$ctrl.fbLoading'>\n<bouncing-points class='color'></bouncing-points>\n</div>\n</div>\n<div class='social-button google-button' ng-if='!$ctrl.hideGoogleButton &amp;&amp; !$ctrl.switchSocialButtonsLocation'>\n<button class='buttonContentWrapper social-btn' google-error='$ctrl.googleError' google-loading='$ctrl.googleLoading' google-login google-pre-login-error='$ctrl.googlePreLoginError' ng-click='$ctrl.socialClicked(&#39;google&#39;)' ng-show='!$ctrl.googleLoading' tabindex='0' type='button'>\n<div class='buttonIcon'>\n<div class='buttonSvgImage'></div>\n</div>\n<span class='buttonContents' ng-if='$ctrl.googleButtonText'>{{ $ctrl.googleButtonText | translate }}</span>\n<span class='buttonContents' ng-if='!$ctrl.googleButtonText'>{{ 'signin_social.continue_with_google' | translate }}</span>\n</button>\n<div ng-show='$ctrl.googleLoading'>\n<bouncing-points class='color'></bouncing-points>\n</div>\n</div>\n<div class='social-button apple-button' ng-if='$ctrl.shouldShowApple &amp;&amp; !$ctrl.isEducation'>\n<button class='buttonContentWrapper social-btn' ng-click='$ctrl.socialClicked(&#39;apple&#39;)' ng-show='!$ctrl.appleLoading' tabindex='0' type='button'>\n<div class='buttonIcon'>\n<div class='buttonSvgImage'></div>\n</div>\n<span class='buttonContents' ng-if='$ctrl.appleButtonText'>{{ $ctrl.appleButtonText | translate }}</span>\n<span class='buttonContents' ng-if='!$ctrl.appleButtonText'>{{ 'signin_social.continue_with_apple' | translate }}</span>\n</button>\n<div ng-show='$ctrl.appleLoading'>\n<bouncing-points class='color'></bouncing-points>\n</div>\n</div>\n<div class='sso-link-container'>\n<a ng-click='$ctrl.ssoLinkClicked()' ng-show='$ctrl.showSSOLoginLink()' target='_self'>{{'login.sso.link' | translate}}</a>\n</div>\n<div class='error-message' ng-show='$ctrl.googleError || $ctrl.showGoogleError'>{{ 'login.social_error' | translate:{provider: 'Google'} }}</div>\n<div class='error-message' ng-show='$ctrl.fbError || $ctrl.showFacebookError'>{{ 'login.social_error' | translate:{provider: 'Facebook'} }}</div>\n<div class='error-message' ng-show='$ctrl.appleError || $ctrl.showAppleError'>{{ 'login.social_error' | translate:{provider: 'Apple'} }}</div>\n<div class='google-error' ng-show='$ctrl.googlePreLoginError' wix-experiment-if='specs.ident.ShowGoogleIncognitoError'>\n<div class='svg-icon'></div>\n<div class='error-msg'>{{ 'login.pre_login_error' | translate }}</div>\n</div>\n</div>\n")}]);try{angular.module("loginTranslations")}catch(e){angular.module("loginTranslations",["pascalprecht.translate"])}angular.module("loginTranslations").config(["$translateProvider",function(a){var b={logo_maker:{login:{title:"Log In to Wix Logo Maker"},signup:{title:"Sign Up to Wix Logo Maker"}},business_card_maker:{signup:{title:"Sign Up to Wix Business Card Maker"},login:{title:"Log In to Wix Business Card Maker"}},social_login:{error:{invalid_password:"Double check your password and try again."}},password:{invalid_password_format:"Please enter a valid password."},terms_of_use:{terms_of_use_reCaptcha:"Terms of Use",privacy_policy_reCaptcha:"Privacy Policy",reCaptcha:"This site is protected by reCAPTCHA Enterprise and the Google {{privacyPolicy}} And {{termsOfUse}} apply",education_privacy_policy:"Wix Education's Privacy Policy",privacy_policy:"Privacy Policy",education_terms_of_use:"Wix Education Additional Terms of Use",terms_of_use:"Terms of Use",education_eu:"* By signing up, you agree to our {{termsOfUse}} and the {{educationTermsOfUse}} and approve that you have read {{educationPrivacyPolicy}}. Student's activities in the Wix Education platform will be under the teacher's responsibility. You also acknowledge that Wix uses cookies to give the best user experience.",education:"* By signing up, you agree to our {{termsOfUse}} and the {{educationTermsOfUse}} and approve that you have read {{educationPrivacyPolicy}}. Student's activities in the Wix Education platform will be under the teacher's responsibility.",login_eu:"* By logging in, you agree to our {{termsOfUse}} and to receive {{brand}} emails & updates and acknowledge that you read our {{privacyPolicy}}. You also acknowledge that {{brand}} uses cookies to give the best user experience.",login:"* By logging in, you agree to our {{termsOfUse}} and to receive {{brand}} emails & updates and acknowledge that you read our {{privacyPolicy}}.",signup_eu:"* By signing up, you agree to our {{termsOfUse}} and to receive {{brand}} emails & updates and acknowledge that you read our {{privacyPolicy}}. You also acknowledge that {{brand}} uses cookies to give the best user experience.",signup:"* By signing up, you agree to our {{termsOfUse}} and to receive {{brand}} emails & updates and acknowledge that you read our {{privacyPolicy}}."},account_verification:{need_help:"Need Help?",next:"Go",placeholder:"Enter your password",content:"Looks like you already have an account with this email: {{email}}\nTo log in & connect your social account, please enter your Wix password.",title:"Log In to Continue"},enter_email:{send:"Send",placeholder:"Email",title:"Please Enter Your Email"},forgot_email:{link:"Forgot Email?"},forgot_password:{new_error_no_such_email:"This email address doesn’t match any account. Double check and try again.",placeholder:"e.g., youremail@gmail.com",instructions:"Enter your email address and we'll send you a link to reset your password.",title:"Reset Password",back:"Back",send:"Send",link:"Forgot Password or Email?"},forgot_password_confirmation:{can_not_access_email_link:"I can't access my login email",done:"Done",content:"Check your inbox and use the reset link to create your new password.",title:"Sent! Check Your Email"},email_verified_confirmation:{done:"Go to homepage",content:"Your email is now confirmed.",title:"You’re all set!"},email_verified_error:{done:"Resend Confirmation Email",content:" ",title:"Confirmation link expired"},email_verified_cross_account_error:{done:"Login with {{tokenEmail}}",content:"You're currently logged into this Wix account: <strong>{{sessionEmail}}</strong><br> To confirm a different email, log in again with <strong>{{tokenEmail}}</strong>",title:"Login with {{tokenEmail}} to Confirm Your Email"},email_verified_email_sent:{done:"Done",content:"Can’t find it? Check your spam.",title:"Confirmation Email Sent"},thank_you:{ok_button:"Ok",content:"To start creating your website, please access the Wix website builder through your desktop.",subtitle:"We've sent an email to",
title:"Thank You for Joining Wix!"},page:{title:"Log In | {{brand}}"},signin_social:{or:"OR",continue_with_apple:"Continue with Apple",continue_with_google:"Continue with Google",continue_with_facebook:"Continue with Facebook",sign_up_with_apple:"Sign up with Apple",sign_up_with_google:"Sign up with Google",sign_up_with_facebook:"Sign up with Facebook",log_in_with_apple:"Log in with Apple",log_in_with_google:"Log in with Google",log_in_with_facebook:"Log in with Facebook",with_google:"Sign in with Google",with_facebook:"Sign in with Facebook",text:"Or sign in using your social account"},divider:{or:"or"},reset_password:{error:{link_expired:"It appears that this link has expired."},confirm_password:"Retype new password",password:"Enter new password",title:"Select your new password:",button:"Save New Password"},reset_password_confirmation:{can_not_access_email:{home:"Go to homepage",account_settings:"Go to Account Settings",content:"Once in your account, be sure to update your account email to an email address that you have access to."},done:"Go to homepage",content:"Your password has been changed successfully.",title:"Congratulations"},enter_code:{resend_email_hint:"Can’t find your email with the login code? Check your spam.",call_me_link:"Call me",call_me_text:"Didn’t recieve an SMS? ",fallback:{enter_code:"Enter Code",description:"<b>We couldn’t send your code by SMS.</b> Check your email and enter the 6-digit code sent to <b>{{twoFAHint}}</b>",title:"Verify It's You"},back_button:{title:"Back to Login"},code_invalid_only_digits:"Enter digits only (0-9)",code_invalid_6_digits:"The code should be 6 digits long.",general_error_link:"Contact Customer Care",general_error:"There was a technical issue on our end. Please refresh page and try again. If problems continues, {{link}}.",code_expired:"Code has expired. Please wait a few moments for a new code and try again.",too_many_attempts_error:"No more resends left. Please try again later.",code_invalid_error:"That's not the correct code. Try again.",resend_code_tooltip_notification:"Code sent successfuly!",read_more:"Read more",lost_access_to_email:"Lost access to your email?",lost_access_to_phone:"Lost access to your phone?",resend_code:"Resend Code",remeber_this_device:"Remember this device for 30 days",enter_code:"Enter code here",button:"Verify",totp:{switch_method:"Log in with authenticator app",description:"Check your authenticator app on your mobile device for the 6-digit code.",title:"Enter Your Code"},email:{switch_method:"Send code by email",check_spam:"If you can’t find the email with your code in your inbox, check your spam folder.",description:"Check your email and enter the 6-digit <br> code sent to <b>{{twoFAHint}}</b>",title:"Enter Your Code"},phone:{switch_method:"Send code by phone",description:"Enter the six-digit code that was sent\nto your phone number ending in <b>{{twoFAHint}}</b>",title:"Enter Your Code"}},signup:{education:{sub_title:{note:"Note: It's not possible to register with the same email you're using for your regular Wix account"},already_have:"Already have a Wix Education account?",teacher:{title:"Teacher? Sign Up!"},student:{title:"Student? Sign Up!"}},or_signup_with:"Or sign up with",passwords_dont_match:"Passwords don’t match.",emails_dont_match:"Emails don't match. Take another look.",log_in:"Log In",already_have:"Already have an account?",mobile_choose_password:"Choose a password",confirm_password:"Type your password again","continue":"Continue",password:"Password",confirm_email:"Type your email again",email:"Email",social_error:"Signup with {{provider}} is temporarily unavailable. Signup with email and password or try again later.",password_tooltip_strength_details_repeating_characters:"Avoid using repeating char.",password_tooltip_strength_details_more_characters:"A longer password",password_tooltip_strength_details_symbol:"A symbol (#$&)",password_tooltip_strength_details_letters:"Upper & lower case letters",password_tooltip_strength_details_title:"It's better to have:",password_tooltip_strength:{hover_title:"Password Strength: "},password_tooltip_strength_level_4:"Strong",password_tooltip_strength_level_3:"Good",password_tooltip_strength_level_2:"Average",password_tooltip_strength_level_1:"Weak",password_tooltip_strength_bar_level_4:"Strong Password",password_tooltip_strength_bar_level_3:"Good Password",password_tooltip_strength_bar_level_2:"Average Password",password_tooltip_strength_bar_level_1:"Weak Password",password_tooltip_strength_bar_too_short:"Must have at least 6 characters.",password_hide:"Hide",password_show:"Show",password_too_long:"Your password can't be longer than 100 characters.",password_too_short_six:"Your password must have at least 6 characters.",password_too_short:"Your password must have at least 4 characters.",error:{email_exists:"That email’s already in our system.",email_exists_on_wix:"Looks like you have a Wix Account. You can also use it to {{link}}.",email_exists_on_editorx:"Looks like you have an Editor X Account. You can also use it to {{link}}."},login_to_editorx:"log in to Editor X",login_to_wix:"log in to Wix",signup_facebook:"Sign Up with Facebook",signup_google:"Sign Up with Google",signup_button:"Sign Up",title:"Sign Up"},post:{signup:{modal:{other:"Other",comparison:"Comparison site",tv:"TV",podcast:"Podcast",instagram:"Instagram",facebook:"Facebook",youtube:"YouTube",title:"How did you discover Wix?",subtitle:"Thanks for signing up!"}}},login:{"title|abTranslate_2|spec":{contentABtest:{main:{login:{title:"Log in to Wix"}}}},"title|abTranslate_1|spec":{contentABtest:{main:{login:{title:"Login"}}}},education:{sub_title:"To Wix Education"},google:"Google",facebook:"Facebook",invalid_email:"That’s not a valid email. Try a different email address.",required_field:"This field is required.",or_login_with:"Or log in with",use_email:"Or use your email",sign_up:"Sign Up",new_to_wix:"Don't have an account?",password:"Password",email:"Email",ok_button:"Ok",pre_login_error:"It seems you're browsing in private mode (incognito). Switch to regular browsing or enable cookies to log in.",social_error:"Login with {{provider}} is temporarily unavailable. Try again later.",general_server_error:"It looks like you can't log in with that email. Try a different email address.",sso:{link:"Log In with SSO"},error:{editorx_blocked_by_capabilities:"Editor X is not available to accounts associated with your parent account. Try logging in with a different email or go to {{link}}","2fa_too_many_codes_sent":"You have sent too many codes to your device. Please try again later.",reset_password_required_link:"Reset Password",reset_password_required:"As a security precaution,<br/>we had to reset your password.<br/><br/>{{link}}",sso_optional:{invalid_password:{error:"Password doesn't match. Try again or {{link}}.",sso_link:"log in with SSO"}},sso_mandatory:"This email address is associated with<br/>account that requires you to {{link}}.",ofac_countries_link:"Learn more",ofac_countries_location:"Sorry, our services are not available in your country. {{link}}",ofac_countries_email:"Sorry, our services are not available for emails and domains from your country. {{link}}",blocked_or_deleted_account_link:"Contact Customer Care",blocked_or_deleted_account:"The email entered is blocked and can't be used to log in. Try a different email address. For more info, {{link}}.",invalid_password:"Double check your password and try again.",invalid_email_or_password:"Double check your email & password and try again"},need_help:"Need Help?",remember_me:"Remember Me",login_facebook:"Log In with Facebook",login_google:"Log In with Google","continue":"Continue",login_button:"Log In",title:"Log In"}};a.translations("en",b),a.translations(b),a.preferredLanguage&&a.preferredLanguage("en")}]).value("preferredLanguage","en");var nextUniqueId=0;angular.module("material").directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("placeholder",placeholderDirective).factory("$mdUtil",UtilFactory);var ContextManager=function(){function a(a,b){this.wixRecorderHandler=a,this.experimentManager=b,this.history=[]}return a.$inject=["wixRecorderHandler","experimentManager"],a.prototype.getContext=function(){return this.context},a.prototype.setContext=function(a){this.previous=this.context,this.context=a,this.experimentManager.isExperimentEnabled("specs.users.UseWixRecorder")&&this.wixRecorderHandler.visitedPage(a)},a.prototype.getPreviousContext=function(){return this.previous},a.prototype.push=function(a){this.history.push(this.context),this.setContext(a)},a.prototype.pop=function(){var a=this.history.pop();a&&this.setContext(a)},a.prototype.canPop=function(){return this.history.length>0},a}();angular.module("loginAppInternal").service("contextManager",ContextManager);var __assign=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;d>c;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},Login=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){this.userServerApi=a,this.socialLogin=b,this.redirectHandler=c,this.errorCodeExtractor=d,this.captcha=e,this.wixBiLogger=f,this.biEvents=g,this.dataLayer=h,this.contextManager=i,this.experimentManager=j,this.userDeviceType=k,this.locationParams=l,this.fedopsLogger=m,this.sessionId=n,this.geo=o,this.signedInInfo=p,this.twoFactorAuth=q,this.editorXHandler=r,this.originUrl=s,this.$translate=t,this.publicDomain=u,this.hashing=v,this.sso=w,this.rememberMe=!0,this.loading=!1,this.captchaAdded=!1,this.isEmailFocus=!1,this.marketingDesign=!1,this.title="login.title",this.isEducation=!1,this.warning=!1,this.errorParams={},this.SECOND_FACTOR_CODE_REQUIRED="8000",this.RESET_PASSWORD_REQUIRED_ERROR="9986",this.SSO_LOGIN_MANDATORY_ERROR="8028",this.BLOCKED_USER_ERROR="9969",this.OFAC_COUNTRIES_EMAIL_ERROR="9979",this.OFAC_COUNTRIES_LOCATION_ERROR="9980",this.EDITORX_BLOCKED_ERROR="8030",b.init("login"),l.defaultEmail&&(this.isEmailFocus=!0),l.design&&k.isMobile()?(this.marketingDesign=!0,this.isEmailFocus=!0):"logo_maker"===l.customized?this.title="logo_maker.login.title":"bcm"===l.customized&&(this.title="business_card_maker.login.title"),this.extractPreviousSignedInInfo(),this.isEducation=l.color&&l.color.startsWith("EDUCATION")}return a.$inject=["userServerApi","socialLogin","redirectHandler","errorCodeExtractor","captcha","wixBiLogger","biEvents","dataLayer","contextManager","experimentManager","userDeviceType","locationParams","fedopsLogger","sessionId","geo","signedInInfo","twoFactorAuth","editorXHandler","originUrl","$translate","publicDomain","hashing","sso"],a.prototype.shouldColorSignupButton=function(){return this.experimentManager.isExperimentEnabled("specs.ident.ShouldColorSignupButton")},a.prototype.onClickSignup=function(){var a="signup";this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:a}),this.contextManager.setContext(a)},a.prototype.onClickForgotPassword=function(){if(this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:"forgot-password"}),this.experimentManager.isExperimentEnabled("specs.ident.NewForgotPasswordPage")){var a=this.locationParams.overrideLocale;return this.redirectHandler.redirect("/account-recovery/forgot-password?sessionId="+this.sessionId.get()+(a?"&overrideLocale="+a:""))}this.contextManager.setContext("forgot-password")},a.prototype.novalidateEmail=function(){return"true"===this.locationParams.novalidate},a.prototype.extractPreviousSignedInInfo=function(){this.email=this.signedInInfo.getEmail(),this.signedInInfo.resetData()},a.prototype.resetWarning=function(){this.warning=!1},a.prototype.doLogin=function(){var a=this,b=this.hashing.hashEmail(this.email);this.loading=!0,this.warning=!1;var c=this.experimentManager.isExperimentEnabled("specs.ident.ReportRecaptchaChallengeType")?this.captcha.getRecaptchaChallengeType():void 0;this.wixBiLogger.log(this.biEvents.LOGIN_SUBMIT,{version:"old",recaptchaChallengeType:c});var d=this.captchaAdded?this.captcha.recaptchaParams():void 0;this.captcha.getHiddenReCaptchaScore("LOGIN").then(function(c){a.fedopsLogger.interactionStarted("email-login"),a.userServerApi.login(a.email,a.password,{recaptchaParams:d,invisibleRecaptcha:c,rememberMe:a.rememberMe}).then(function(b){a.fedopsLogger.interactionEnded("email-login"),a.handleGtmEvents(),a.redirectHandler.postLogin(__assign({},b.data,{email:a.email}))})["catch"](function(c){var d=a.errorCodeExtractor.getServerErrorCodeFromResponse(c);return a.warning=!1,d===a.SECOND_FACTOR_CODE_REQUIRED?a.openTwoFactorAuthentication(c,{serverError:d,email_hash:b}):("9981"!==d&&"9982"!==d&&a.ssoUserHandler(c,d),/^9966(\..*)?$/.test(d)&&a.wixBiLogger.log(a.biEvents.NO_SUCH_MAIL,{context:"email-login",version:"old"}),d===ErrorCodeExtractor.GENERAL_ERROR?a.reportBiError(c):a.fedopsLogger.interactionEnded("email-login"),a.captchaAdded=a.captcha.createOrResetCaptchaIfNeeded(d,a.captchaAdded),void(a.loading=!1))})})},a.prototype.handleGtmEvents=function(){if(this.editorXHandler.isEditorX()){var a=window.localStorage.getItem("editorx.login."+this.email);a||(window.localStorage.setItem("editorx.login."+this.email,this.email),this.dataLayer.push({event:"editorx.first.login",email:this.email}))}},a.prototype.ssoUserHandler=function(a,b){var c=a.data.payload,d={},e=b===this.SSO_LOGIN_MANDATORY_ERROR,f=b===ErrorCodeExtractor.INVALID_LOGIN_PASSWORD_WITH_SSO&&c&&c.multipleAccounts&&this.experimentManager.isExperimentEnabled("specs.ident.MultiAccountRecoveryFlows"),g=!f&&c&&c.accountSsoLoginUrl;if(e||f||g){var h=new URL(c.accountSsoLoginUrl);if(h.searchParams.set("email",encodeURIComponent(this.email)),this.locationParams.postLogin&&h.searchParams.set("targetUrl",encodeURIComponent(this.locationParams.postLogin)),d={accountSsoLoginUrl:h.toString()},e)return this.redirectHandler.redirect(h.toString())}this.serverError=b,this.setTooltipParam(d)},a.prototype.openTwoFactorAuthentication=function(a,b){var c=(b.email_hash,b.serverError,a.data.payload),d=c.twoFAToken,e=c.usingTwoFAFallback,f=c.twoFAHint,g=c.currentTwoFAMethod,h=c.enabledTwoFAMethods;this.fedopsLogger.interactionEnded("email-login"),this.signedInInfo.setEmail(this.email),this.twoFactorAuth.setFallbackEmailMode(e),e?(this.twoFactorAuth.setCurrentTwoFAMethod(TwoFactorAuth.EMAIL_METHOD),this.twoFactorAuth.setTwoFAHint(f)):(this.twoFactorAuth.setCurrentTwoFAMethod(g),this.twoFactorAuth.setEnabledTwoFAMethods(h.reverse()),this.twoFactorAuth.setTwoFAHint(f)),this.twoFactorAuth.setTwoFAToken(d),this.contextManager.push("enter-code")},a.prototype.reportBiError=function(a){this.wixBiLogger.log(this.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:a.headers("X-Wix-Request-Id"),error:a.data.errorDescription,error_code:a.data.errorCode,context:this.contextManager.getContext(),interaction_name:"email-login",origin:this.originUrl,ldSessionID:this.sessionId.get()})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.LOGIN_SUBMIT,{version:"old"})},a.prototype.socialClicked=function(a){this.socialLogin.reportClick("login",a)},a.prototype.getAccountRecoveryLink=function(){var a=this.locationParams.overrideLocale;return"/account-recovery?sessionId="+this.sessionId.get()+(a?"&overrideLocale="+a:"")},a.prototype.getBrandName=function(){return this.editorXHandler.isEditorX()?"Editor X":"Wix"},a.prototype.setTooltipParam=function(a){this.serverError===this.RESET_PASSWORD_REQUIRED_ERROR&&(this.warning=!0),this.errorParams={link:this.getTooltipLink(a)}},a.prototype.getTooltipLink=function(a){var b,c;switch(this.serverError){case this.RESET_PASSWORD_REQUIRED_ERROR:b="/signin?"+$.param(__assign({},this.locationParams,{defaultEmail:this.email,loginDialogContext:"forgot-password"})),c="login.error.reset_password_required_link";break;case this.BLOCKED_USER_ERROR:b="https://support.wix.com/"+this.publicDomain.getLocale()+"/article/contacting-wix-customer-care-for-support",c="login.error.blocked_or_deleted_account_link";break;case this.OFAC_COUNTRIES_EMAIL_ERROR:case this.OFAC_COUNTRIES_LOCATION_ERROR:b="https://support.wix.com/"+this.publicDomain.getLocale()+"/article/wix-account-country-limitations",c="login.error.ofac_countries_link";break;case this.EDITORX_BLOCKED_ERROR:b="https://www.wix.com",c="Wix.com";break;case ErrorCodeExtractor.INVALID_LOGIN_PASSWORD_WITH_SSO:b=a?a.accountSsoLoginUrl:"",c="login.error.sso_optional.invalid_password.sso_link";break;default:return}return'<a href="'+b+'" target="_self">\n      '+this.$translate.instant(c)+"</a>"},a}();angular.module("loginAppInternal").value("dataLayer",window.dataLayer).component("login",{template:function(){return"<div ng-include=\"$ctrl.userDeviceType.isMobile() ? 'views/mobile/login.html' : 'views/desktop/login.html'\"></div>"},controller:Login});var LoginEmail=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=this;this.signedInInfo=a,this.$element=b,this.userServerApi=c,this.socialLogin=d,this.redirectHandler=e,this.errorCodeExtractor=f,this.captcha=g,this.wixBiLogger=h,this.biEvents=i,this.contextManager=j,this.experimentManager=k,this.userDeviceType=l,this.locationParams=m,this.fedopsLogger=n,this.sessionId=o,this.editorXHandler=p,this.originUrl=q,this.loading=!1,this.captchaAdded=!1,this.title="login.title",this.isEducation=!1,d.init("login"),r.getCredentials().then(function(a){a&&(n.interactionStarted("auto-login"),s.captcha.getHiddenReCaptchaScore("LOGIN").then(function(b){c.login(a.id,a.password,{rememberMe:!0,invisibleRecaptcha:b}).then(function(a){n.interactionEnded("auto-login"),e.postLogin(a.data)})["catch"](function(a){s.wixBiLogger.log(s.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:a.headers("X-Wix-Request-Id"),error:a.data.errorDescription,error_code:a.data.errorCode,context:s.contextManager.getContext(),interaction_name:"auto-login",origin:s.originUrl,ldSessionID:s.sessionId.get()})})}))}),this.isEducation=m.color&&m.color.startsWith("EDUCATION")}return a.$inject=["signedInInfo","$element","userServerApi","socialLogin","redirectHandler","errorCodeExtractor","captcha","wixBiLogger","biEvents","contextManager","experimentManager","userDeviceType","locationParams","fedopsLogger","sessionId","editorXHandler","originUrl","autoLogin"],a.prototype.onClickSignup=function(){var a="signup-email";this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:a,displayVersion:"new"}),this.contextManager.setContext(a)},a.prototype.novalidateEmail=function(){return"true"===this.locationParams.novalidate},a.prototype.doLogin=function(){var a=this;this.fedopsLogger.interactionStarted("email-check"),this.wixBiLogger.log(this.biEvents.CLICK_CONTINUE,{source_type:"login"}),this.loading=!0,this.userServerApi.isEmailExists(this.email,"webLogin").then(function(b){var c=a.email.indexOf("@wix.com")>-1;a.fedopsLogger.interactionEnded("email-check"),b&&b.data&&b.data.userAuthStatus&&b.data.userAuthStatus.userId&&!c?(a.signedInInfo.setEmail(a.email),a.wixBiLogger.log(a.biEvents.ON_SWITCH_CONTEXT,{context:"login-password",displayVersion:"new"}),a.contextManager.push("login-password")):(a.serverError=c?"generalError":"noSuchMail",a.loading=!1,a.wixBiLogger.log(a.biEvents.NO_SUCH_MAIL,{context:"email-login",version:"new"}))})["catch"](function(b){a.serverError=a.errorCodeExtractor.getServerErrorCodeFromResponse(b)||"",a.loading=!1,a.wixBiLogger.log(a.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:b.headers("X-Wix-Request-Id"),error:b.data.errorDescription,error_code:b.data.errorCode,context:a.contextManager.getContext(),interaction_name:"email-check",origin:a.originUrl,ldSessionID:a.sessionId.get()})})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.CLICK_CONTINUE_ERROR,{source_type:"login"})},a.prototype.socialClicked=function(a){this.socialLogin.reportClick("login",a)},a.prototype.getAccountRecoveryLink=function(){var a=this.locationParams.overrideLocale;return"/account-recovery/enter-website?sessionId="+this.sessionId.get()+(a?"&overrideLocale="+a:"")},a.prototype.onClickForgotPassword=function(){this.wixBiLogger.log(this.biEvents.CLICK_FORGOT_PASSWORD,{origin:"login-email"})},a.prototype.getBrandName=function(){return this.editorXHandler.isEditorX()?"Editor X":"Wix"},a}();angular.module("loginAppInternal").component("loginEmail",{template:function(){return"<div ng-include=\"'views/desktop/login-email.html'\"></div>"},controller:LoginEmail});var LoginPassword=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){this.signedInInfo=a,this.$element=b,this.userServerApi=c,this.socialLogin=d,this.redirectHandler=e,this.errorCodeExtractor=f,this.captcha=g,this.wixBiLogger=h,this.biEvents=i,this.contextManager=j,this.experimentManager=k,this.userDeviceType=l,this.locationParams=m,this.fedopsLogger=n,this.sessionId=o,this.twoFactorAuth=p,this.originUrl=q,this.loading=!1,this.captchaAdded=!1,this.title="login.title",this.forgotPasswordText="forgot_email.link",this.SECOND_FACTOR_CODE_REQUIRED="8000",d.init("login"),this.email=a.getEmail()}return a.$inject=["signedInInfo","$element","userServerApi","socialLogin","redirectHandler","errorCodeExtractor","captcha","wixBiLogger","biEvents","contextManager","experimentManager","userDeviceType","locationParams","fedopsLogger","sessionId","twoFactorAuth","originUrl","$timeout"],a.prototype.doLogin=function(){var a=this;this.loading=!0,this.wixBiLogger.log(this.biEvents.LOGIN_SUBMIT,{version:"new"}),this.captcha.getHiddenReCaptchaScore("LOGIN").then(function(b){a.fedopsLogger.interactionStarted("email-login"),a.userServerApi.login(a.email,a.password,{rememberMe:!0,invisibleRecaptcha:b}).then(function(b){a.fedopsLogger.interactionEnded("email-login"),a.redirectHandler.postLogin(b.data)})["catch"](function(b){var c=a.errorCodeExtractor.getServerErrorCodeFromResponse(b);return c===ErrorCodeExtractor.GENERAL_ERROR?a.reportBiError(b):a.fedopsLogger.interactionEnded("email-login"),c===a.SECOND_FACTOR_CODE_REQUIRED?a.openTwoFactorAuthentication(b):("9981"!==c&&"9982"!==c&&(a.serverError=c),/^9966(\..*)?$/.test(c)&&a.wixBiLogger.log(a.biEvents.NO_SUCH_MAIL,{context:"email-login",version:"new"}),a.captchaAdded=a.captcha.createOrResetCaptchaIfNeeded(c,a.captchaAdded),void(a.loading=!1))})})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.LOGIN_SUBMIT,{version:"new"})},a.prototype.onClickForgotPassword=function(){this.wixBiLogger.log(this.biEvents.CLICK_FORGOT_PASSWORD,{origin:"login-password"});var a="forgot-password";this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:a}),this.contextManager.setContext(a)},a.prototype.onClickBack=function(){this.contextManager.pop()},a.prototype.openTwoFactorAuthentication=function(a){var b=a.data.payload,c=b.twoFAToken,d=b.twoFAHint;this.fedopsLogger.interactionEnded("email-login"),this.signedInInfo.setEmail(this.email),this.twoFactorAuth.setTwoFAToken(c),this.twoFactorAuth.setTwoFAHint(d),this.contextManager.push("enter-code")},a.prototype.reportBiError=function(a){this.wixBiLogger.log(this.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:a.headers("X-Wix-Request-Id"),error:a.data.errorDescription,error_code:a.data.errorCode,context:this.contextManager.getContext(),interaction_name:"email-login",origin:this.originUrl,ldSessionID:this.sessionId.get()})},a}();angular.module("loginAppInternal").component("loginPassword",{template:function(){return"<div ng-include=\"'views/desktop/login-password.html'\"></div>"},controller:LoginPassword}),angular.module("loginAppInternal").factory("locationParams",["$window",function(a){return new URI(a.location).search(!0)}]),angular.module("loginAppInternal").constant("REFERRER_CONFIG",{referrer:document.referrer}).factory("originUrl",["REFERRER_CONFIG","locationParams",function(a,b){var c=a.referrer;return c?c.split("?").shift():b.originUrl||""}]);var Signup=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){this.userServerApi=a,this.socialLogin=b,this.redirectHandler=c,this.errorCodeExtractor=d,this.captcha=e,this.wixBiLogger=f,this.biEvents=g,this.signedInInfo=h,this.contextManager=i,this.experimentManager=j,this.userDeviceType=k,this.originUrl=l,this.fedopsLogger=m,this.editorXHandler=n,this.locationParams=o,this.sessionId=p,this.$translate=q,this.passwordStrengthExtractor=r,this.postSignupHandler=s,this.$scope=t,this.loading=!1,this.captchaAdded=!1,this.isEmailFocus=!1,this.marketingDesign=!1,this.showLoginLink=!0,this.isEducation=!1,this.title="signup.title",this.errorParams={},b.init("signup"),o.defaultEmail&&(this.isEmailFocus=!0),this.showLoginLink="true"!==o.hideLoginLinkInSignup,o.design&&k.isMobile()?(this.marketingDesign=!0,this.isEmailFocus=!0,this.title=("build"===o.design?"Build":"Create")+" Your Own Website",angular.element("body").addClass("marketing-design")):"logo_maker"===o.customized?this.title="logo_maker.signup.title":"bcm"===o.customized&&(this.title="business_card_maker.signup.title"),this.setEducationParams(),this.isEducation=o.color&&o.color.startsWith("EDUCATION")}return a.$inject=["userServerApi","socialLogin","redirectHandler","errorCodeExtractor","captcha","wixBiLogger","biEvents","signedInInfo","contextManager","experimentManager","userDeviceType","originUrl","fedopsLogger","editorXHandler","locationParams","sessionId","$translate","passwordStrengthExtractor","postSignupHandler","$scope"],a.prototype.shouldColorSignupButton=function(){return this.experimentManager.isExperimentEnabled("specs.ident.ShouldColorSignupButton")},a.prototype.onClickLogin=function(){var a="login";this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:a}),this.contextManager.setContext(a)},a.prototype.doSignup=function(){var a=this;this.fedopsLogger.interactionStarted("email-signup"),this.loading=!0,this.wixBiLogger.log(this.biEvents.SIGNUP_SUBMIT,{version:"old"});var b=this.captchaAdded?this.captcha.recaptchaParams():void 0;this.captcha.getHiddenReCaptchaScore("SIGNUP").then(function(c){a.userServerApi.signup(a.email,a.password,{recaptchaParams:b,invisibleRecaptcha:c}).then(function(b){a.fedopsLogger.interactionEnded("email-signup"),a.signedInInfo.setEmail(a.email),a.experimentManager.isExperimentEnabled("specs.ident.SendPasswordStrengthBiEvent")&&a.wixBiLogger.log(a.biEvents.SIGNUP_PASSWORD_INDICATOR,{strength:a.passwordStrengthExtractor.getPasswordStrengthForBiEvent(a.password),origin:"sign up"}),a.postSignupHandler.shouldShowModal(b.data)?(a.loading=!1,a.postSignupHandler.openPostSignupModal(b.data,a.$scope)):a.redirectHandler.postSignup(b.data)})["catch"](function(b){var c=a.errorCodeExtractor.getServerErrorCodeFromResponse(b);"9981"!==c&&"9982"!==c&&(a.serverError=c,a.setTooltipParam()),c!==ErrorCodeExtractor.GENERAL_ERROR?a.fedopsLogger.interactionEnded("email-signup"):a.wixBiLogger.log(a.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:b.headers("X-Wix-Request-Id"),error:b.data.errorDescription,error_code:b.data.errorCode,context:a.contextManager.getContext(),interaction_name:"email-signup",origin:a.originUrl,ldSessionID:a.sessionId.get()}),a.captchaAdded=a.captcha.createOrResetCaptchaIfNeeded(c,a.captchaAdded),a.loading=!1})})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.SIGNUP_SUBMIT,{version:"old"})},a.prototype.socialClicked=function(a){this.socialLogin.reportClick("signup",a)},a.prototype.getBrandName=function(){return this.editorXHandler.isEditorX()?"Editor X":"Wix"},a.prototype.setTooltipParam=function(){(this.serverError===ErrorCodeExtractor.EMAIL_EXISTS_ON_WIX_DOMAIN||this.serverError===ErrorCodeExtractor.EMAIL_EXISTS_ON_EDITORX_DOMAIN)&&(this.locationParams.loginDialogContext="login",this.locationParams.defaultEmail=this.email,this.errorParams={link:'<a href="/signin?'+$.param(this.locationParams)+'" target="_self">\n          '+this.$translate.instant(this.serverError===ErrorCodeExtractor.EMAIL_EXISTS_ON_WIX_DOMAIN?"signup.login_to_editorx":"signup.login_to_wix")+"</a>"})},a.prototype.setEducationParams=function(){this.locationParams.color&&this.locationParams.color.startsWith("EDUCATION")&&(this.educationType="EDUCATION_STUDENT"===this.locationParams.color?"student":"teacher",this.title="signup.education."+this.educationType+".title")},a}();angular.module("loginAppInternal").component("signup",{template:function(){return"<div ng-include=\"$ctrl.userDeviceType.isMobile() ? 'views/mobile/signup.html' : 'views/desktop/signup.html'\"></div>"},controller:Signup});var SignupEmail=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){this.signedInInfo=a,this.$element=b,this.userServerApi=c,this.socialLogin=d,this.redirectHandler=e,this.errorCodeExtractor=f,this.captcha=g,this.wixBiLogger=h,this.biEvents=i,this.contextManager=j,this.experimentManager=k,this.userDeviceType=l,this.locationParams=m,this.fedopsLogger=n,this.sessionId=o,this.editorXHandler=p,this.originUrl=q,this.$translate=r,this.loading=!1,this.captchaAdded=!1,this.title="signup.title",this.errorParams={},d.init("login"),this.setEducationParams()}return a.$inject=["signedInInfo","$element","userServerApi","socialLogin","redirectHandler","errorCodeExtractor","captcha","wixBiLogger","biEvents","contextManager","experimentManager","userDeviceType","locationParams","fedopsLogger","sessionId","editorXHandler","originUrl","$translate"],a.prototype.onClickLogin=function(){var a="login-email";this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:a,displayVersion:"new"}),this.contextManager.setContext(a)},a.prototype.novalidateEmail=function(){return"true"===this.locationParams.novalidate},a.prototype.doSignup=function(){var a=this;this.wixBiLogger.log(this.biEvents.CLICK_CONTINUE,{source_type:"signup"}),this.fedopsLogger.interactionStarted("email-status"),this.loading=!0,this.userServerApi.isEmailExists(this.email,"webSignup").then(function(b){a.fedopsLogger.interactionEnded("email-status"),b&&b.data&&b.data.userAuthStatus&&b.data.userAuthStatus.userId?(a.serverError="signup.error.email_exists",a.loading=!1):(a.signedInInfo.setEmail(a.email),a.wixBiLogger.log(a.biEvents.ON_SWITCH_CONTEXT,{context:"signup-password",displayVersion:"new"}),a.contextManager.push("signup-password"))})["catch"](function(b){a.serverError=a.errorCodeExtractor.getServerErrorCodeFromResponse(b)||"",a.setTooltipParam(),a.serverError!==ErrorCodeExtractor.GENERAL_ERROR?a.fedopsLogger.interactionEnded("email-status"):a.wixBiLogger.log(a.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:b.headers("X-Wix-Request-Id"),error:b.data.errorDescription,error_code:b.data.errorCode,context:a.contextManager.getContext(),interaction_name:"email-status",origin:a.originUrl,ldSessionID:a.sessionId.get()}),a.loading=!1})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.CLICK_CONTINUE_ERROR,{source_type:"signup"})},a.prototype.socialClicked=function(a){this.socialLogin.reportClick("signup",a)},a.prototype.getBrandName=function(){return this.editorXHandler.isEditorX()?"Editor X":"Wix"},a.prototype.setTooltipParam=function(){(this.serverError===ErrorCodeExtractor.EMAIL_EXISTS_ON_WIX_DOMAIN||this.serverError===ErrorCodeExtractor.EMAIL_EXISTS_ON_EDITORX_DOMAIN)&&(this.locationParams.loginDialogContext="login",this.locationParams.defaultEmail=this.email,this.errorParams={link:'<a href="/signin?'+$.param(this.locationParams)+'" target="_self">\n          '+this.$translate.instant(this.serverError===ErrorCodeExtractor.EMAIL_EXISTS_ON_WIX_DOMAIN?"signup.login_to_editorx":"signup.login_to_wix")+"</a>"})},a.prototype.setEducationParams=function(){this.locationParams.color&&this.locationParams.color.startsWith("EDUCATION")&&(this.educationType="EDUCATION_STUDENT"===this.locationParams.color?"student":"teacher",this.title="signup.education."+this.educationType+".title")},a}();angular.module("loginAppInternal").component("signupEmail",{template:function(){return"<div ng-include=\"'views/desktop/signup-email.html'\"></div>"},controller:SignupEmail});var PostSignupModal=function(){function a(a,b,c,d){this.redirectHandler=a,this.wixBiLogger=b,
this.biEvents=c,this.signupResData=d,this.clicked=!1,this.sources=["youtube","facebook","instagram","podcast","tv","comparison"],this.sources=this.sources.sort(function(){return Math.random()-.5}),this.firstRowSources=this.sources.slice(0,2),this.secondRowSources=this.sources.slice(2,4),this.thirdRowSources=this.sources.slice(4),this.fourthRowSources=["other"]}return a.$inject=["redirectHandler","wixBiLogger","biEvents","signupResData"],a.prototype.clickedSource=function(a,b){this.clicked=!0,this.wixBiLogger.log(this.biEvents.ANSWER_POST_SIGNUP_MODAL,{answer:b,screen_name:"pre_intro"}),this.redirectHandler.postSignup(this.signupResData),a.stopImmediatePropagation()},a}();angular.module("loginAppInternal").controller("postSignupModal",PostSignupModal);var SignupPassword=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){this.signedInInfo=a,this.$element=b,this.userServerApi=c,this.socialLogin=d,this.redirectHandler=e,this.errorCodeExtractor=f,this.captcha=g,this.wixBiLogger=h,this.biEvents=i,this.contextManager=j,this.experimentManager=k,this.userDeviceType=l,this.locationParams=m,this.fedopsLogger=n,this.originUrl=o,this.sessionId=p,this.loading=!1,this.captchaAdded=!1,this.title="signup.title",this.forgotPasswordText="forgot_email.link",d.init("login"),this.email=a.getEmail()}return a.$inject=["signedInInfo","$element","userServerApi","socialLogin","redirectHandler","errorCodeExtractor","captcha","wixBiLogger","biEvents","contextManager","experimentManager","userDeviceType","locationParams","fedopsLogger","originUrl","sessionId"],a.prototype.onClickLogin=function(){var a="login-email";this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:a,displayVersion:"new"}),this.contextManager.setContext(a)},a.prototype.doSignup=function(){var a=this;this.loading=!0,this.wixBiLogger.log(this.biEvents.SIGNUP_SUBMIT,{version:"new"}),this.fedopsLogger.interactionStarted("email-signup");var b=this.captchaAdded?this.captcha.recaptchaParams():void 0;this.captcha.getHiddenReCaptchaScore("SIGNUP").then(function(c){a.userServerApi.signup(a.email,a.password,{recaptchaParams:b,invisibleRecaptcha:c}).then(function(b){a.fedopsLogger.interactionEnded("email-signup"),a.signedInInfo.setEmail(a.email),a.redirectHandler.postSignup(b.data)})["catch"](function(b){var c=a.errorCodeExtractor.getServerErrorCodeFromResponse(b);"9981"!==c&&"9982"!==c&&(a.serverError=c),c!==ErrorCodeExtractor.GENERAL_ERROR?a.fedopsLogger.interactionEnded("email-signup"):a.wixBiLogger.log(a.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:b.headers("X-Wix-Request-Id"),error:b.data.errorDescription,error_code:b.data.errorCode,context:a.contextManager.getContext(),interaction_name:"email-signup",origin:a.originUrl,ldSessionID:a.sessionId.get()}),a.captchaAdded=a.captcha.createOrResetCaptchaIfNeeded(c,a.captchaAdded),a.loading=!1})})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.SIGNUP_SUBMIT,{version:"new"})},a.prototype.onClickBack=function(){this.contextManager.pop()},a}();angular.module("loginAppInternal").component("signupPassword",{template:function(){return"<div ng-include=\"'views/desktop/signup-password.html'\"></div>"},controller:SignupPassword});var ErrorToTranslateKeyMap=function(){function a(){var a="forgot_password.new_error_no_such_email",b="login.required_field",c="login.invalid_email";this.map={9960:"login.error.invalid_email_or_password","9960.social":"social_login.error.invalid_password",9967:"signup.error.email_exists",9972:"login.error.invalid_password","9972.with_sso":"login.error.sso_optional.invalid_password.error",9969:"login.error.blocked_or_deleted_account",9979:"login.error.ofac_countries_email",9980:"login.error.ofac_countries_location",8028:"login.error.sso_mandatory",9966:a,"9966.social":a,9950:"signup.error.email_exists_on_wix",9951:"signup.error.email_exists_on_editorx",noSuchMail:a,"-15003":"reset_password.error.link_expired","-15007":"password.invalid_password_format","email.required":b,"emailConfirm.required":b,"password.required":b,"passwordConfirm.required":b,"email.wixMailValidator":c,"email.email":c,"emailConfirm.wixMailValidator":c,"email.emailConfirm":c,"emailConfirm.match":"signup.emails_dont_match","passwordConfirm.match":"signup.passwords_dont_match","password.minlength":"signup.password_too_short_six","password.minlength.short":"signup.password_too_short","password.maxlength":"signup.password_too_long","signup.error.email_exists":"signup.error.email_exists","verificationCode.pattern":"enter_code.code_invalid_only_digits","8001.verificationCode":"enter_code.code_invalid_error","8006.verificationCode":"enter_code.code_expired","8004.verificationCode":"enter_code.too_many_attempts_error","8010.verificationCode":"enter_code.too_many_attempts_error","8011.verificationCode":"enter_code.code_invalid_error","general_error.verificationCode":"enter_code.general_error","verificationCode.minlength":"enter_code.code_invalid_6_digits","verificationCode.maxlength":"enter_code.code_invalid_6_digits","verificationCode.required":b,9986:"login.error.reset_password_required",8004:"login.error.2fa_too_many_codes_sent",8030:"login.error.editorx_blocked_by_capabilities"}}return a.prototype.filter=function(a){return this.map[a]||"login.general_server_error"},a}();angular.module("loginAppInternal").filter("errorToTranslateKeyMap",["$injector",function(a){var b=a.instantiate(ErrorToTranslateKeyMap);return b.filter.bind(b)}]);var ServerErrorToFieldMap=function(){function a(){this.map={1:"password",9960:"password","9960.social":"password",9967:"email",9966:"email",9950:"email",9951:"email",9972:"password","9972.with_sso":"password","9966.social":"email","-15007":"password","-15003":"password","8001.verificationCode":"verificationCode","8004.verificationCode":"verificationCode","8006.verificationCode":"verificationCode","8010.verificationCode":"verificationCode","8011.verificationCode":"verificationCode","general_error.verificationCode":"verificationCode",9979:"email",8028:"email",9981:"none",9982:"none",9986:"password"}}return a.prototype.filter=function(a){return this.map[a]||"general"},a}();angular.module("loginAppInternal").filter("serverErrorToFieldMap",["$injector",function(a){var b=a.instantiate(ServerErrorToFieldMap);return b.filter.bind(b)}]),angular.module("loginAppInternal").directive("match",function(){return{require:"ngModel",scope:{match:"="},restrict:"A",link:function(a,b,c,d){d.$validators.match=function(b){return d.$isEmpty(b)||angular.equals(b,a.match)},a.$watch("match",function(){d.$validate()})}}});var TermsOfUse=function(){function a(a,b,c,d,e,f){this.publicDomain=a,this.$translate=b,this.geo=c,this.editorXHandler=d,this.locationParams=e,this.experimentManager=f,this.isEditorX=this.editorXHandler.isEditorX(),this.isInvisibleCaptchaEnabled=this.experimentManager.isExperimentEnabled("specs.users.GoogleRecaptchaInvisible")}return a.$inject=["publicDomain","$translate","geo","editorXHandler","locationParams","experimentManager"],a.prototype.getTermsOfUseLinkTag=function(){return'<a href="'+this.publicDomain.resolvePublicUrl((this.isEditorX?"/info":"/about")+"/terms-of-use")+'" target="_blank">'+this.$translate.instant("terms_of_use.terms_of_use")+"</a>"},a.prototype.getEducationTermsOfUseLinkTag=function(){return'<a href="'+this.publicDomain.resolvePublicUrl("/education/terms-of-use")+'" target="_blank">'+this.$translate.instant("terms_of_use.education_terms_of_use")+"</a>"},a.prototype.getPrivacyPolicyLinkTag=function(){return'<a href="'+this.publicDomain.resolvePublicUrl((this.isEditorX?"/info":"/about")+"/privacy")+'" target="_blank">'+this.$translate.instant("terms_of_use.privacy_policy")+"</a>"},a.prototype.getEducationPrivacyPolicyLinkTag=function(){return'<a href="'+this.publicDomain.resolvePublicUrl("/education/wix-education-privacy-policy")+'" target="_blank">'+this.$translate.instant("terms_of_use.education_privacy_policy")+"</a>"},a.prototype.getCaptchaTermsOfUse=function(){return'<a href="https://policies.google.com/terms" target="_blank">'+this.$translate.instant("terms_of_use.terms_of_use_reCaptcha")+"</a>"},a.prototype.getCaptchaPrivacyPolicy=function(){return'<a href="https://policies.google.com/privacy" target="_blank">'+this.$translate.instant("terms_of_use.privacy_policy_reCaptcha")+"</a>"},a.prototype.isInEU=function(){return this.geo.isInEU()},a.prototype.getTermsOfUseTranslationKey=function(){var a=this.isInEU()?"_eu":"";return"terms_of_use."+this.mode+a},a.prototype.getBrand=function(){return this.isEditorX?"Editor X":"Wix"},a.prototype.isWixEducation=function(){return this.locationParams.color&&this.locationParams.color.startsWith("EDUCATION")},a}();angular.module("loginAppInternal").component("termsOfUse",{controller:TermsOfUse,bindings:{mode:"<"},template:'<div ng-class="{\'terms-of-use\': true, \'terms-education\': $ctrl.isWixEducation()}">\n                <div ng-class="{\'wide-terms\': $ctrl.isInEU()}">\n                  <div translate="{{$ctrl.getTermsOfUseTranslationKey()}}"\n                  translate-values="{\n                    termsOfUse: $ctrl.getTermsOfUseLinkTag(),\n                    privacyPolicy: $ctrl.getPrivacyPolicyLinkTag(),\n                    brand: $ctrl.getBrand(),\n                    educationTermsOfUse: $ctrl.getEducationTermsOfUseLinkTag(),\n                    educationPrivacyPolicy: $ctrl.getEducationPrivacyPolicyLinkTag()\n                  }"/>\n                  <hr ng-if="$ctrl.isInvisibleCaptchaEnabled"/>\n                  <div ng-if="$ctrl.isInvisibleCaptchaEnabled" \n                  translate="terms_of_use.reCaptcha"\n                  translate-values="{privacyPolicy: $ctrl.getCaptchaPrivacyPolicy(), termsOfUse: $ctrl.getCaptchaTermsOfUse()}"\n                  />\n                </div>\n              </div>'});var SocialLogin=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){this.userServerApi=a,this.$q=b,this.gapi=c,this.fb=d,this.apple=e,this.redirectHandler=f,this.wixBiLogger=g,this.biEvents=h,this.signedInInfo=i,this.contextManager=j,this.originUrl=k,this.fedopsLogger=l,this.experimentManager=m,this.redesign=n,this.sessionId=o,this.postSignupHandler=p,this.sso=q,this.getEmailErrorCode=9971,this.verifyAccountErrorCode=9967,this.invalidEmailOrPasswordErrorCode=9960,this.userDeletedOrBlockedErrorCode=9969,this.ofacCountryErrorCode=9980,this.ssoLoginMandatoryErrorCode=8028}return a.$inject=["userServerApi","$q","gapi","fb","apple","redirectHandler","wixBiLogger","biEvents","signedInInfo","contextManager","originUrl","fedopsLogger","experimentManager","redesign","sessionId","postSignupHandler","sso"],a.prototype.init=function(a){this.context=a},a.prototype.reportClick=function(a,b){this.fedopsLogger.interactionStarted(this.getSocialLoginInteractionName(b)),this.wixBiLogger.log(this.biEvents.SOCIAL_LOGIN_CLICKED,{context:this.biEvents.getContext(a),socialNetwork:b,version:this.redesign.isRedesign()?"new":"old"}),("google"===b&&!this.gapi.ready()||"facebook"===b&&!this.fb.ready()||"apple"===b&&!this.apple.ready())&&this.wixBiLogger.log(this.biEvents.SOCIAL_LOGIN_EARLY_CLICK,{context:this.biEvents.getContext(a),socialNetwork:b,version:this.redesign.isRedesign()?"new":"old"})},a.prototype.getLastLoginToWixData=function(){return this.loginToWixData},a.prototype.getSocialLoginInteractionName=function(a){return a+"-login"},a.prototype.loginToWix=function(a,b,c){var d=this,e=this.$q.defer(),f=b+"-server-response";return this.fedopsLogger.interactionStarted(f),c(!0),this.userServerApi.socialLogin(a,b).then(function(a){d.fedopsLogger.interactionEnded(f),d.fedopsLogger.interactionEnded(d.getSocialLoginInteractionName(b));var c=a.headers()["x-wix-redirect-url"];if(c)d.redirectHandler.redirect(c);else{var g=a.data?a.data.action:"";if("register"===g){if(d.signedInInfo.setEmail(a.data.email),d.postSignupHandler.shouldShowModal(a.data,!0))return void e.resolve(a);d.redirectHandler.postSignup(a.data)}else d.redirectHandler.postLogin(a.data)}e.resolve(a)})["catch"](function(g){c(!1);var h=g?g.data:{};if(h&&h.errorCode&&h.errorCode===d.verifyAccountErrorCode)d.loginToWixData={params:a,provider:b,email:h.errorDescription},d.wixBiLogger.log(d.biEvents.ON_SWITCH_CONTEXT,{context:"account-verify",socialNetwork:b}),d.contextManager.setContext("account-verification"),d.fedopsLogger.interactionEnded(f),d.fedopsLogger.interactionEnded(d.getSocialLoginInteractionName(b)),e.resolve(g);else if(h&&h.errorCode&&h.errorCode===d.getEmailErrorCode)d.loginToWixData={params:a,provider:b},d.wixBiLogger.log(d.biEvents.ON_SWITCH_CONTEXT,{context:"get-email",socialNetwork:b}),d.fedopsLogger.interactionEnded(f),d.fedopsLogger.interactionEnded(d.getSocialLoginInteractionName(b)),d.contextManager.setContext("enter-email"),e.resolve(g);else if(h&&h.errorCode&&(h.errorCode===d.userDeletedOrBlockedErrorCode||h.errorCode===d.ofacCountryErrorCode||h.errorCode===d.invalidEmailOrPasswordErrorCode&&a.password))d.loginToWixData={params:a,provider:b},d.fedopsLogger.interactionEnded(f),d.fedopsLogger.interactionEnded(d.getSocialLoginInteractionName(b)),e.reject(g);else if(h&&h.errorCode&&h.errorCode===d.ssoLoginMandatoryErrorCode){d.loginToWixData={params:a,provider:b},d.fedopsLogger.interactionEnded(f),d.fedopsLogger.interactionEnded(d.getSocialLoginInteractionName(b));var i=h.payload.accountSsoLoginUrl;d.redirectHandler.redirect(i)}else d.wixBiLogger.log(d.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:g.headers("X-Wix-Request-Id"),error:h.errorDescription,error_code:h.errorCode,context:d.contextManager.getContext(),interaction_name:f,origin:d.originUrl,ldSessionID:d.sessionId.get()}),e.reject(g)}),e.promise},a.prototype.continueLogin=function(a,b){var c=this.getLastLoginToWixData(),d=c.params,e=c.provider,f=angular.extend({},d,a);return this.loginToWix(f,e,b)},a}();angular.module("loginAppInternal").service("socialLogin",SocialLogin);var RedirectHandler=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){this.locationParams=a,this.$window=b,this.publicDomain=c,this.$timeout=d,this.dataLayer=e,this.userDeviceType=f,this.twoFactorAuth=g,this.contextManager=h,this.oauth=i,this.experimentManager=j,this.editorXHandler=k,this.$http=l,this.ACCOUNT_SELECTOR_URL="https://users.wix.com/login/select-account"}return a.$inject=["locationParams","$window","publicDomain","$timeout","dataLayer","userDeviceType","twoFactorAuth","contextManager","oauth","experimentManager","editorXHandler","$http"],a.prototype.messageOpener=function(a){this.$window.opener.postMessage({message:"user logged in",action:a},"*")},a.prototype.getRedirectUrl=function(a,b,c){var d=encodeURIComponent(this.locationParams.originUrl),e="postAuthParams.precondition="+a,f=b&&"undefined"!==b?"&postAuthParams.postAuthUrl="+b:"",g=c&&"undefined"!==c?"&postAuthParams.redirectToUrl="+c:"",h=d&&"undefined"!==d?"&postAuthParams.originUrl="+d:"";return this.$http.get("/_api/funnel-intro-router-service/user-intro?"+e+f+g+h).then(function(a){return a.data.url})},a.prototype.postLogin=function(a){var b=this,c=a.uaToken,d=a.accountSsoLoginUrl,e=a.multipleAccounts,f=a.email;if(this.$window.opener&&this.locationParams.messageOpener)this.messageOpener("login");else if(this.oauth.isOauth())this.$window.location=this.oauth.getRedirectUrl();else{var g=e&&this.experimentManager.isExperimentEnabled("specs.ident.MultiAccountRecoveryFlows")?this.getAccountSelectorUrl(f):d;if(this.experimentManager.isExperimentEnabled("specs.ident.UseFunnelRedirect"))this.getRedirectUrl("SIGN_IN",encodeURIComponent(this.locationParams.postLogin),encodeURIComponent(this.locationParams.redirectTo)).then(function(a){var d=b.twoFactorAuth.getTargetUrl()||a,e=b.generateUrlWithParams(d,c),f=g?new URI(g).addQuery("targetUrl",e).toString():e;b.redirect(f)})["catch"](function(a){var d="/my-account",e=b.locationParams.postLogin||b.locationParams.redirectTo||b.twoFactorAuth.getTargetUrl()||d,f=b.generateUrlWithParams(e,c),h=g?new URI(g).addQuery("targetUrl",f).toString():f;b.redirect(h)});else{var h="/my-account",i=this.locationParams.postLogin||this.locationParams.redirectTo||this.twoFactorAuth.getTargetUrl()||h,j=this.generateUrlWithParams(i,c),k=g?new URI(g).addQuery("targetUrl",j).toString():j;this.redirect(k)}}},a.prototype.postSignup=function(a){var b=this,c=a.uaToken,d=a.ssoUrl;this.dataLayer.push({event:"Successful Signup"});var e=this.locationParams.postSignUp||this.locationParams.redirectTo;this.$timeout(function(){if(b.$window.opener&&b.locationParams.messageOpener)b.messageOpener("signup");else if(b.oauth.isOauth())b.$window.location=b.oauth.getRedirectUrl();else if(b.experimentManager.isExperimentEnabled("specs.ident.UseFunnelRedirect"))b.getRedirectUrl("SIGN_UP",encodeURIComponent(b.locationParams.postSignUp),encodeURIComponent(b.locationParams.redirectTo)).then(function(a){if(d){var f=b.getPostSignupUrl(e),g=new URI(d).addQuery("targetUrl",b.publicDomain.resolve(f)).toString();b.redirect(b.generateUrlWithParams(g,c))}else b.redirect(b.generateUrlWithParams(a,c))})["catch"](function(a){if(d){var f=b.getPostSignupUrl(e),g=new URI(d).addQuery("targetUrl",b.publicDomain.resolve(f)).toString();b.redirect(b.generateUrlWithParams(g,c))}else b.redirect(b.generateUrlWithParams(b.getPostSignupUrl(e),c))});else if(!b.userDeviceType.isMobile()||e||b.editorXHandler.isEditorX())if(d){var a=b.getPostSignupUrl(e),f=new URI(d).addQuery("targetUrl",b.publicDomain.resolve(a)).toString();b.redirect(b.generateUrlWithParams(f,c))}else b.redirect(b.generateUrlWithParams(b.getPostSignupUrl(e),c));else b.experimentManager.loadExperiment("specs.ADIOnMobileEnabled",!1).then(function(a){if(b.experimentManager.isExperimentEnabled("specs.ADIOnMobileEnabled")){var d="https://www.wix.com/website/builder";b.redirect(b.generateUrlWithParams(d,c))}else b.contextManager.setContext("thank-you")})},1e3)},a.prototype.redirect=function(a){this.$window.location=a},a.prototype.redirectToLoginAccountSelector=function(a){this.redirect(this.getAccountSelectorUrl(a))},a.prototype.getAccountSelectorUrl=function(a){return this.ACCOUNT_SELECTOR_URL+"?email="+a},a.prototype.getPostSignupUrl=function(a){return a||(this.editorXHandler.isEditorX()?"https://www.editorx.com/create":"https://www.wix.com/new/intro")},a.prototype.generateUrlWithParams=function(a,b){var c=this.publicDomain.resolve(a),d=this.isAnswersUrl(c)&&b?this.addUaToken(c,b):c;return d+=a===this.locationParams.originUrl?this.$window.location.hash:""},a.prototype.addUaToken=function(a,b){return new URI(a).addQuery("uaToken",b).toString()},a.prototype.isAnswersUrl=function(a){var b=["https://www.wix.com/wix-support-apps-webapp/","https://manage.wix.com/wix-support-apps-webapp/"];return b.some(function(b){return 0===a.indexOf(b)})},a}();angular.module("loginAppInternal").value("dataLayer",window.dataLayer).service("redirectHandler",RedirectHandler);var AccountVerification=function(){function a(a,b,c,d,e,f){this.socialLogin=a,this.errorCodeExtractor=b,this.wixBiLogger=c,this.biEvents=d,this.contextManager=e,this.userDeviceType=f,this.loading=!1}return a.$inject=["socialLogin","errorCodeExtractor","wixBiLogger","biEvents","contextManager","userDeviceType"],a.prototype.getEmail=function(){var a=this.socialLogin.getLastLoginToWixData();return a?a.email:""},a.prototype.onClickForgotPassword=function(){this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:"forgot-password"}),this.contextManager.setContext("forgot-password")},a.prototype.verifyAccount=function(){var a=this;this.loading=!0,this.wixBiLogger.log(this.biEvents.VERIFY_ACCOUNT_SUBMIT,{socialNetwork:this.socialLogin.getLastLoginToWixData().provider}),this.socialLogin.continueLogin({password:this.password},function(b){return a.loading=b})["catch"](function(b){return a.serverError=a.errorCodeExtractor.getServerErrorCodeFromResponse(b,!0)})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.VERIFY_ACCOUNT_SUBMIT,{socialNetwork:this.socialLogin.getLastLoginToWixData().provider})},a}();angular.module("loginAppInternal").component("accountVerification",{template:"<div ng-include=\"$ctrl.userDeviceType.isMobile() ? 'views/mobile/account-verification.html' : 'views/desktop/account-verification.html'\">\n               </div>",controller:AccountVerification}),angular.module("loginAppInternal").factory("fullStoryReady",["$q","$window","$rootScope",function(a,b,c){var d=a.defer();return b.FS&&b.FS.getCurrentSessionURL?d.resolve(b.FS.getCurrentSessionURL()):b._fs_ready=function(){c.$apply(function(){return d.resolve(b.FS.getCurrentSessionURL())})},d.promise}]),angular.module("loginAppInternal").factory("gapi",["$q","$window",function(a,b){var c=!1,d=a.defer();return b.onLoadGoogleCallback=function(){c=!0,d.resolve(b.gapi)},{when:function(){return b.gapi?(c=!0,a.when(b.gapi)):d.promise},ready:function(){return c}}}]),angular.module("loginAppInternal").factory("fb",["$q","$window",function(a,b){var c=!1,d=a.defer();return b.fbAsyncInit=function(){c=!0,d.resolve(b.FB)},{when:function(){return b.FB?(c=!0,a.when(b.FB)):d.promise},ready:function(){return c}}}]);var AppleLoginHandler=function(){function a(a,b,c,d,e,f,g,h,i,j){var k=this;this.$q=a,this.$window=b,this.experimentManager=c,this.wixBiLogger=d,this.apple=e,this.biEvents=f,this.contextManager=g,this.redesign=h,this.$location=i,this.socialLogin=j,this.appId="users.wix.com",this.signIn=function(a){return k.apple.when().then(function(){return k.appleSignin(a)}),k.deferSignIn.promise},this.deferSignIn=this.$q.defer(),this.apple.when().then(function(){k.initApple()})}return a.$inject=["$q","$window","experimentManager","wixBiLogger","apple","biEvents","contextManager","redesign","$location","socialLogin"],a.prototype.appleSignin=function(a){var b=this;this.reportDebug("APPLE_login_before");try{this.apple.auth().signIn().then(function(c){b.reportDebug("APPLE_login_callback"),b.wixBiLogger.log(b.biEvents.SOCIAL_AUTH_SUCCESS,{socialNetwork:"apple",context:b.biEvents.getContext(b.contextManager.getContext()),version:b.redesign.isRedesign()?"new":"old"});var d=Object(c.user),e=d.name,f=d.email;return b.socialLogin.loginToWix({identityToken:c.authorization.id_token,firstName:e?e.firstName:void 0,lastName:e?e.lastName:void 0,email:f},"apple",a)}).then(function(){return b.deferSignIn.resolve()})["catch"](function(a){var c=a.error;b.wixBiLogger.log(b.biEvents.SOCIAL_AUTH_ERROR,{socialNetwork:"apple",reason:c,version:b.redesign.isRedesign()?"new":"old"}),b.deferSignIn.reject(c)})}catch(c){this.deferSignIn.reject(c)}},a.prototype.reportDebug=function(a){this.wixBiLogger.log(this.biEvents.SOCIAL_LOGIN_DEBUG,{step:a})},a.prototype.initApple=function(){try{var a=this.$location.host().match(/local/)?"https://www.wix.com":this.$window.location.origin;this.reportDebug("APPLE_init_before"),this.apple.auth().init({clientId:this.appId,scope:"name email",redirectURI:a,usePopup:!0}),this.reportDebug("APPLE_init_after")}catch(b){this.reportDebug("APPLE_init_error")}},a}();angular.module("loginAppInternal").service("appleLoginHandler",AppleLoginHandler),angular.module("loginAppInternal").factory("apple",["$q","$window","$interval",function(a,b,c){var d=!1,e=a.defer(),f=c(function(){b.AppleID&&(d=!0,e.resolve(b.AppleID),c.cancel(f))},50);return{when:function(){return b.AppleID?(d=!0,a.when(b.AppleID)):e.promise},ready:function(){return d},auth:function(){return d?b.AppleID.auth:void 0}}}]);var EnterEmail=function(){function a(a,b,c,d,e){this.socialLogin=a,this.errorCodeExtractor=b,this.wixBiLogger=c,this.biEvents=d,this.userDeviceType=e,this.loading=!1}return a.$inject=["socialLogin","errorCodeExtractor","wixBiLogger","biEvents","userDeviceType"],a.prototype.sendEmailAddress=function(){var a=this;this.loading=!0,this.wixBiLogger.log(this.biEvents.GET_EMAIL_SUBMIT,{socialNetwork:this.socialLogin.getLastLoginToWixData().provider}),this.socialLogin.continueLogin({email:this.email},function(b){return a.loading=b})["catch"](function(b){return a.serverError=a.errorCodeExtractor.getServerErrorCodeFromResponse(b,!0)})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.GET_EMAIL_SUBMIT,{socialNetwork:this.socialLogin.getLastLoginToWixData().provider})},a}();angular.module("loginAppInternal").component("enterEmail",{template:"<div ng-include=\"$ctrl.userDeviceType.isMobile() ? 'views/mobile/enter-email.html' : 'views/desktop/enter-email.html'\">\n               </div>",controller:EnterEmail});var LoginDialog=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=this;this.userDeviceType=a,this.locationParams=c,this.publicDomain=d,this.wixBiLogger=e,this.captcha=f,this.biEvents=g,this.contextManager=i,this.$document=k,this.experimentManager=l,this.emailVerification=m,this.redesign=n,this.autoLogin=o,this.userServerApi=p,this.editorXHandler=t,this.accountRecoveryInfo=u,this.fullStoryReady=v,this.docRefOnFT=this.$document[0].referrer,this.xLink=this.locationParams.originUrl?this.locationParams.originUrl:this.docRefOnFT,this.isRecoveryMode=!1;var x=["login","signup","reset-password","forgot-password"];this.isRecoveryMode=c.accountRecoveryPhoneHint&&c.accountEmail;var y=function(){return b.get("_wixUIDX")&&"null-user-id"!==b.get("_wixUIDX")||!w.shouldShowX()||c.defaultEmail};if(x.indexOf(c.loginDialogContext)>-1)if(n.shouldRenderRedesign()){var z=n.getRedesignedContext(c.loginDialogContext)||c.loginDialogContext;i.setContext(z)}else i.setContext(c.loginDialogContext);else if(this.isRecoveryMode)u.setPhoneHint(c.accountRecoveryPhoneHint),u.setAccountEmail(c.accountEmail),i.setContext("enter-code");else if(s.shouldRenderEnterCode())i.setContext("enter-code");else if(m.isEmailVerificationScreen())i.setContext("email-verified-confirmation");else if(y()){var A=n.shouldRenderRedesign()?"login-email":"login";i.setContext(A)}else{var A=n.shouldRenderRedesign()?"signup-email":"signup";i.setContext(A)}e.log(g.ON_START,{context:g.getContext(this.contextManager.getContext()),origin:h,version:n.isRedesign()?"new":"old"}),l.isExperimentEnabled("specs.users.UseWixRecorder")||v.then(function(a){var b=l.isExperimentEnabled("specs.users.FullStory");a&&b&&e.log(g.FULL_STORY_READY,{fullStoryUrl:a})}),j()}return a.$inject=["userDeviceType","$cookies","locationParams","publicDomain","wixBiLogger","captcha","biEvents","originUrl","contextManager","googleDomainFlowHandler","$document","experimentManager","emailVerification","redesign","autoLogin","userServerApi","redirectHandler","fedopsLogger","twoFactorAuth","editorXHandler","accountRecoveryInfo","fullStoryReady"],a.prototype.getContext=function(){return this.contextManager.getContext()},a.prototype.isMobile=function(){return this.userDeviceType.isMobile()},a.prototype.isRedesign=function(){return this.redesign.shouldRenderRedesign()},a.prototype.getOriginUrl=function(){return this.xLink},a.prototype.shouldShowX=function(){var a=this.locationParams,b=a.postLogin,c=a.postSignUp,d=a.redirectTo;return!this.isRecoveryMode&&this.xLink!==b&&this.xLink!==c&&this.xLink!==d&&""!==this.xLink},a.prototype.isEditorX=function(){return this.editorXHandler.isEditorX()},a.prototype.isWixEducation=function(){return this.locationParams.color&&this.locationParams.color.startsWith("EDUCATION")},a.prototype.showWixLogo=function(){return!this.isEditorX()&&!this.isWixEducation()},a}();angular.module("loginAppInternal").component("loginDialog",{templateUrl:"views/login-dialog.html",controller:LoginDialog});var ForgotPassword=function(){function a(a,b,c,d,e,f,g,h,i){this.userServerApi=a,this.errorCodeExtractor=b,this.wixBiLogger=c,this.biEvents=d,this.contextManager=e,this.userDeviceType=f,this.locationParams=g,this.experimentManager=h,this.captcha=i,this.loading=!1,this.captchaAdded=!1}return a.$inject=["userServerApi","errorCodeExtractor","wixBiLogger","biEvents","contextManager","userDeviceType","locationParams","experimentManager","captcha"],a.prototype.onClickSend=function(){var a=this;this.loading=!0,this.wixBiLogger.log(this.biEvents.FORGOT_PASSWORD_SUBMIT);var b=this.captchaAdded?this.captcha.getResponse():void 0;this.captcha.getHiddenReCaptchaScore("FORGOT").then(function(c){a.userServerApi.forgotPassword(a.email,c,b).then(function(){a.wixBiLogger.log(a.biEvents.ON_SWITCH_CONTEXT,{context:"email-sent"}),a.contextManager.setContext("forgot-password-confirmation"),a.loading=!1})["catch"](function(b){if(a.serverError=a.errorCodeExtractor.getServerErrorCodeFromResponse(b),/^8028(\..*)?$/.test(a.serverError)){var c=b.data&&b.data.payload&&b.data.payload.accountSsoLoginUrl,d=c+"&origin=forgot-password";return window.location.replace(d)}/^9966(\..*)?$/.test(a.serverError)&&a.wixBiLogger.log(a.biEvents.NO_SUCH_MAIL,{context:"forgot-password"}),a.captchaAdded=a.captcha.createOrResetCaptchaIfNeeded(a.serverError,a.captchaAdded),a.loading=!1})})},a.prototype.onSubmitInvalid=function(){this.wixBiLogger.log(this.biEvents.FORGOT_PASSWORD_SUBMIT)},a.prototype.onClickBack=function(){this.contextManager.getPreviousContext()?(this.wixBiLogger.log(this.biEvents.ON_SWITCH_CONTEXT,{context:this.biEvents.getContext(this.contextManager.getPreviousContext())}),this.contextManager.setContext(this.contextManager.getPreviousContext())):history.back()},a.prototype.getCanNotAccessEmailLink=function(){var a=this.locationParams.overrideLocale;return"/account-recovery/can-not-access-email"+(a?"?overrideLocale="+a:"")},a}();angular.module("loginAppInternal").component("forgotPassword",{template:"<div ng-include=\"$ctrl.userDeviceType.isMobile() ? 'views/mobile/forgot-password.html' : 'views/desktop/forgot-password.html'\">\n               </div>",controller:ForgotPassword});var ForgotPasswordConfirmation=function(){function a(a,b){this.contextManager=a,this.redesign=b}return a.$inject=["contextManager","redesign"],a.prototype.onClickDone=function(a){var b=this.redesign.shouldRenderRedesign()?"login-email":"login";this.contextManager.setContext(b),a.preventDefault()},a}();angular.module("loginAppInternal").component("forgotPasswordConfirmation",{templateUrl:"views/forgot-password-confirmation.html",controller:ForgotPasswordConfirmation});var EmailVerifiedConfirmation=function(){function a(a,b,c,d,e,f){this.userServerApi=a,this.emailVerification=b,this.$location=c,this.locationParams=d,this.contextManager=e,this.editorXHandler=f,this.errorCode=this.emailVerification.emailVerificationErrorCode(),this.isCrossAccountVerificationAttempt=9992===this.errorCode,this.tokenEmail=this.emailVerification.tokenEmail(),this.sessionEmail=this.emailVerification.sessionEmail(),this.translationData={tokenEmail:this.tokenEmail,sessionEmail:this.sessionEmail},this.emailSentScreen=!1}return a.$inject=["userServerApi","emailVerification","$location","locationParams","contextManager","editorXHandler"],a.prototype.sendVerificationEmail=function(){this.userServerApi.sendVerificationEmail().then(function(){console.log("-- email sent")}),this.emailSentScreen=!0},a.prototype.goToLoginWithMail=function(){this.locationParams.defaultEmail=this.tokenEmail,this.locationParams.postLogin=this.$location.absUrl(),this.contextManager.setContext("login")},a.prototype.getHomePage=function(){return"https://www."+(this.editorXHandler.isEditorX()?"editorx":"wix")+".com"},a}();angular.module("loginAppInternal").component("emailVerifiedConfirmation",{templateUrl:"views/email-verified-confirmation.html",controller:EmailVerifiedConfirmation});var DesktopInput=function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this;this.$scope=a,this.$element=b,this.errorCodeExtractor=d,this.contextManager=f,this.$filter=g,this.experimentManager=h,this.$window=i,this.$q=j,this.passwordStrengthExtractor=k,this.passwordStrengthDirection=this.isTooltipLeft()?"left":"right",this.isFocused=!1,this.showPasswordValue=!1,this.blured=!1,this.changed=!1,this.errorSuffix="",this.enableShowHideIconTooltip=!1,this.lastFocusTimeStamp=0,this.lastInputTimeStamp=0,this.EDIT_FIELD_PERIOD=200,a.$watch("$ctrl.serverError",function(a,b){a&&a!==b&&l.updateError()}),c(function(){l.inputElement=b.find("input"),l.errorSuffix=l.inputElement&&"4"===l.inputElement.attr("ng-minlength")&&l.field&&"password"===l.field.$name?"short":"",
b.find("ng-transclude").replaceWith(l.inputElement),l.showPasswordVisibilityExp=l.experimentManager.isExperimentEnabled("specs.ident.AllowViewTypedPassword"),l.withPasswordStrength&&l.updatePasswordStrength(),angular.element(i).bind("resize",function(){l.passwordStrengthDirection=l.isTooltipLeft()?"left":"right",l.error&&l.inputElement.blur()}),l.inputElement.bind("input",function(a){l.changed=!0,l.lastInputTimeStamp=a.timeStamp,l.inputValue=l.inputElement.val(),l.clearServerError(),l.clearWarning(),l.updateError(),l.$scope.$digest()}),l.inputElement.bind("focus",function(a){l.lastFocusTimeStamp=a.timeStamp,setTimeout(function(){(l.lastInputTimeStamp<l.lastFocusTimeStamp||l.lastInputTimeStamp-l.lastFocusTimeStamp>l.EDIT_FIELD_PERIOD)&&(l.isFocused=!0,l.$scope.$digest())},0)}),l.inputElement.bind("blur",function(a){l.blured=l.changed,l.isFocused=!1,l.updateError(),l.withPasswordStrength&&(l.updatePasswordStrength(),a.timeStamp-l.lastFocusTimeStamp<=l.EDIT_FIELD_PERIOD&&setTimeout(function(){l.isFocused=!1,l.$scope.$applyAsync()},100)),l.$scope.$digest()}),l.inputElement.closest("form").bind("submit",function(){l.updateError(),l.$scope.$digest()});var a=l.inputElement.val();if(!l.field.$viewValue&&a&&l.field.$setViewValue(a),-1!==navigator.userAgent.indexOf("Chrome"))var c=e(function(){l.inputElement.is(":-webkit-autofill")&&(l.inputElement.parent().addClass("md-input-has-value"),e.cancel(c))},50,200)},0)}return a.$inject=["$scope","$element","$timeout","errorCodeExtractor","$interval","contextManager","$filter","experimentManager","$window","$q","passwordStrengthExtractor"],a.prototype.updateError=function(){this.error=this.getError()},a.prototype.clearServerError=function(){this.serverError=void 0},a.prototype.clearWarning=function(){this.warning=!1},a.prototype.getError=function(){return this.errorCodeExtractor.getModelErrorCode(this.field,this.serverError,this.showErrorOnGeneralError,this.errorSuffix)},a.prototype.getErrorTranslationKey=function(){return this.$filter("errorToTranslateKeyMap")(this.getError())},a.prototype.isTooltipLeft=function(){var a=this.contextManager.getContext();return("signup"===a||"login"===a||"reset-password"===a)&&this.$window.innerWidth>1440},a.prototype.getShowPasswordButtonText=function(){return this.showPasswordValue?"signup.password_hide":"signup.password_show"},a.prototype.toggleShowPasswordValue=function(){this.showPasswordValue=!this.showPasswordValue;var a=this.showPasswordValue?"text":"password",b=this.showPasswordValue?"off":"new-password",c=this.$element.find("input");c.attr("type",a),c.attr("autocomplete",b)},a.prototype.onShowPasswordButtonClick=function(a){a.stopPropagation(),a.preventDefault(),this.toggleShowPasswordValue()},a.prototype.shouldShowPasswordValueButton=function(){return(this.showPasswordVisibilityIcon()||this.withPasswordStrength)&&this.field.$viewValue},a.prototype.updatePasswordStrength=function(){this.passwordStrength=this.passwordStrengthExtractor.getPasswordStrength(this.field.$viewValue||"")},a.prototype.getPasswordStrengthTranslationKey=function(){var a=this.passwordStrength&&this.passwordStrength.classification?this.passwordStrength.classification:"";return a?"signup.password_tooltip_strength_level_"+a:""},a.prototype.showPasswordVisibilityIcon=function(){return this.showPasswordVisibilityExp&&this.withPasswordVisibility},a.prototype.onMouseHoverShowHideIcon=function(){return this.isFocused?void(this.enableShowHideIconTooltip=!1):void(this.enableShowHideIconTooltip=!0)},a.prototype.onMouseLeaveShowHideIcon=function(){this.enableShowHideIconTooltip=!1},a.prototype.getTooltipMaxWidth=function(a){return void 0===a&&(a=!0),!this.withPasswordStrength||!this.isFocused&&a?"225px":"246px"},a}();angular.module("loginAppInternal").component("desktopInput",{template:'<md-input-container \n                  class="tooltip-holder" \n                  ng-class="{\'has-error\': !!$ctrl.getError(), \'has-warning\': $ctrl.warning, \'new-input\': true, \'show-error\': $ctrl.blured }"\n                  max-width="{{$ctrl.getTooltipMaxWidth(false)}}">\n                  \n                <wix-popover\n                  ng-if="$ctrl.withPasswordStrength"\n                  is-open="$ctrl.isFocused"\n                  max-width="{{$ctrl.getTooltipMaxWidth()}}" \n                  append-to-body="true"\n                  tooltip-trigger="false"\n                  placement="{{$ctrl.passwordStrengthDirection}}" \n                  placement-force="true"\n                  tooltip-class="{{\'password-strength\'}}">\n                    <div ng-include="\'views/desktop/desktop-input-tooltip-password-strength.html\'"></div>\n                </wix-popover>\n                <div class="label-container">\n                  <label class="label"> {{$ctrl.label | translate}} </label>\n                  <div type="button" class="show-password" ng-show="$ctrl.shouldShowPasswordValueButton()" ng-class="{\'with-error\': $ctrl.blured && $ctrl.error}">\n                    <div data-hook="strengthText" ng-show="$ctrl.withPasswordStrength && !$ctrl.isFocused && !$ctrl.error" translate="{{$ctrl.getPasswordStrengthTranslationKey()}}" ng-mousedown="$event.stopPropagation()" class="strength-score-title">\n                      <wix-popover append-to-body="true">\n                        <span translate="signup.password_tooltip_strength.hover_title"></span>\n                        <span translate="{{$ctrl.getPasswordStrengthTranslationKey()}}"></span>\n                      </wix-popover>\n                    </div>\n                    <div class="password-icon" ng-class="{\'active\': $ctrl.showPasswordValue}" ng-mousedown="$ctrl.onShowPasswordButtonClick($event)" ng-mouseover="$ctrl.onMouseHoverShowHideIcon()" ng-mouseleave="$ctrl.onMouseLeaveShowHideIcon()">\n                      <wix-popover append-to-body="true" is-open="$ctrl.enableShowHideIconTooltip">\n                        <span translate="{{$ctrl.showPasswordValue ? \'signup.password_hide\' : \'signup.password_show\'}}"></span>\n                      </wix-popover>\n                    </div>\n                  </div>\n                </div>\n                \n                <ng-transclude></ng-transclude>\n                <div class="focus-line"></div>\n                <i class="login-svg-font-icons-error-new error" ng-hide="$ctrl.warning" ng-if="$ctrl.withPasswordStrength && $ctrl.isFocused">\n                  <wix-popover\n                    max-width="{{$ctrl.getTooltipMaxWidth()}}"\n                    append-to-body="true"\n                    placement="right"\n                    placement-force="true"\n                    tooltip-trigger="false"\n                    tooltip-class="{{\'error-tooltip desktop-input-tooltip-container\'}}">\n                    <div ng-include="\'views/desktop/desktop-input-tooltip-error.html\'"></div>\n                  </wix-popover>\n                </i>\n                <i class="login-svg-font-icons-error-new error" ng-hide="$ctrl.warning" ng-if="!$ctrl.isFocused || !$ctrl.withPasswordStrength">\n                  <wix-popover\n                    max-width="{{$ctrl.getTooltipMaxWidth()}}"\n                    append-to-body="true"\n                    placement="right"\n                    placement-force="true"\n                    tooltip-trigger="hover"\n                    tooltip-class="{{\'error-tooltip desktop-input-tooltip-container\'}}">\n                    <div ng-include="\'views/desktop/desktop-input-tooltip-error.html\'"></div>\n                  </wix-popover>\n                </i>\n                <i class="login-svg-font-icons-warning warning" ng-show="$ctrl.warning"></i>\n                <div class="warning-container" ng-show="$ctrl.warning">\n                  <i class="login-svg-font-icons-warning float-warning" ng-show="$ctrl.warning"></i>\n                  <div ng-class="{\'warning-label\': true}" translate="{{$ctrl.getError() | errorToTranslateKeyMap}}" translate-values="$ctrl.errorParams"></div>\n                </div>\n              </md-input-container>',controller:DesktopInput,transclude:!0,bindings:{field:"=",label:"=",serverError:"=",showErrorOnGeneralError:"=",errorParams:"=",warning:"=?",withPasswordStrength:"=?",withPasswordVisibility:"=?"}});var PasswordStrengthContent=function(){function a(a,b,c){var d=this;this.$scope=a,this.passwordStrengthExtractor=b,this.$timeout=c,this.classification="",a.$watch("$ctrl.inputValue",function(){d.updateDataFromInputValue()})}return a.$inject=["$scope","passwordStrengthExtractor","$timeout"],a.prototype.updateDataFromInputValue=function(){this.updatePasswordStrength(),this.updateContent()},a.prototype.updatePasswordStrength=function(){this.passwordStrength=this.passwordStrengthExtractor.getPasswordStrength(this.inputValue||"")},a.prototype.getTitleTranslationKey=function(){var a=this.passwordStrength&&this.passwordStrength.classification?this.passwordStrength.classification:"";return a&&this.inputValue&&this.inputValue.length>=PasswordStrengthExtractor.MINIMAL_LENGTH?"signup.password_tooltip_strength_bar_level_"+a:"signup.password_tooltip_strength_bar_too_short"},a.prototype.updateContent=function(){this.finalScore=this.passwordStrength.finalScore,this.hints=this.passwordStrength.hints,this.classification=this.passwordStrength.classification&&this.inputValue&&this.inputValue.length>=PasswordStrengthExtractor.MINIMAL_LENGTH?this.passwordStrength.classification:"",this.strengthBarsClassname="strength-bar "+(this.classification?"level-"+this.classification:""),this.updateRepeatingCharsStatus()},a.prototype.updateRepeatingCharsStatus=function(){var a=this.hints&&-1!==this.hints.indexOf("repeating_characters");if("undefined"==typeof this.initialRepeatingCharsStatus&&(this.initialRepeatingCharsStatus=this.repeatingCharsStatus=a,this.repeatingCharsClassName=this.initialRepeatingCharsStatus?"fix-no-repeating":"fix-repeating"),a!==this.repeatingCharsStatus){this.repeatingCharsStatus=a;var b=$("body").find("div.wix-tooltip.password-strength");if(!b||!b[0])return;this.repeatingCharsStatus===this.initialRepeatingCharsStatus?b[0].classList.remove(this.repeatingCharsClassName):b[0].classList.add(this.repeatingCharsClassName)}},a}();angular.module("loginAppInternal").component("passwordStrengthContent",{template:'<div class="password-strength-container" ng-class="{\'mobile\': $ctrl.isMobile}">\n\n<div class="password-strength-summary">\n<div class="password-strength-title" translate="{{$ctrl.getTitleTranslationKey()}}"></div>\n<div class="strength-bar-container" ng-show="!$ctrl.isMobile || !!$ctrl.classification || $ctrl.finalScore === 0">\n<div class="{{$ctrl.strengthBarsClassname}}" ng-class="{\'is-on\': !!$ctrl.finalScore || $ctrl.finalScore === 0}"></div>\n<div class="{{$ctrl.strengthBarsClassname}}" ng-class="{\'is-on\': !!$ctrl.finalScore && $ctrl.finalScore > 1}"></div>\n<div class="{{$ctrl.strengthBarsClassname}}" ng-class="{\'is-on\': !!$ctrl.finalScore && $ctrl.finalScore > 2}"></div>\n<div class="{{$ctrl.strengthBarsClassname}}" ng-class="{\'is-on\': !!$ctrl.finalScore && $ctrl.finalScore > 4}"></div>\n</div>\n</div>\n\n<div class="hint repeating-characters-hint" ng-show="$ctrl.hints.includes(\'repeating_characters\') && $ctrl.isMobile">\n<div class="hint-icon repeating-characters-hint-icon mobile-hint"></div>\n<div class="hint-text" translate="signup.password_tooltip_strength_details_repeating_characters"></div>\n</div>\n\n<div translate="signup.password_tooltip_strength_details_title"></div>\n\n<div class="hints-container">\n\n<div class="hint" ng-class="{\'disabled\': !$ctrl.hints.includes(\'letters\')}">\n<div class="hint-icon"></div>\n<div class="hint-text" translate="signup.password_tooltip_strength_details_letters"></div>\n</div>\n\n<div class="hint" ng-class="{\'disabled\': !$ctrl.hints.includes(\'symbol\')}">\n<div class="hint-icon"></div>\n<div class="hint-text" translate="signup.password_tooltip_strength_details_symbol"></div>\n</div>\n\n<div class="hint last-hint" ng-class="{\'disabled\': !$ctrl.hints.includes(\'more_characters\')}">\n<div class="hint-icon"></div>\n<div class="hint-text" translate="signup.password_tooltip_strength_details_more_characters"></div>\n</div>\n\n</div>\n\n<div class="hint repeating-characters-hint" ng-show="$ctrl.hints.includes(\'repeating_characters\') && !$ctrl.isMobile">\n<div class="hint-icon repeating-characters-hint-icon"></div>\n<div class="hint-text" translate="signup.password_tooltip_strength_details_repeating_characters"></div>\n</div>',controller:PasswordStrengthContent,bindings:{isMobile:"=?",inputValue:"=?"}});var MobileInput=function(){function a(a,b,c,d,e,f,g){var h=this;this.$scope=a,this.$element=b,this.errorCodeExtractor=d,this.experimentManager=f,this.passwordStrengthExtractor=g,this.isFocused=!1,this.showPasswordValue=!1,this.errorSuffix="",this.mdInputContainer=b.find("md-input-container"),this.showPasswordVisibilityExp=this.experimentManager.isExperimentEnabled("specs.ident.AllowViewTypedPassword"),c(function(){var c=b.find("input");if(h.errorSuffix=c&&"4"===c.attr("ng-minlength")&&h.field&&"password"===h.field.$name?"short":"",b.find("ng-transclude").replaceWith(c),h.withPasswordStrength&&h.updatePasswordStrength(),c.bind("focus",function(){h.isFocused=!0,a.$digest()}),c.bind("change",function(){h.clearServerError(),h.clearWarning(),a.$digest()}),c.bind("input",function(){h.inputValue=c.val(),h.$scope.$digest()}),c.bind("blur",function(){h.isFocused=!1,h.updatePasswordStrength(),a.$digest()}),"password"===c.attr("type")&&-1!==navigator.userAgent.indexOf("Chrome"))var d=e(function(){c.is(":-webkit-autofill")&&(c.parent().addClass("md-input-has-value"),e.cancel(d))},50,200)},0)}return a.$inject=["$scope","$element","$timeout","errorCodeExtractor","$interval","experimentManager","passwordStrengthExtractor"],a.prototype.clearServerError=function(){this.serverError=void 0},a.prototype.clearWarning=function(){this.warning=!1},a.prototype.getError=function(){return this.errorCodeExtractor.getModelErrorCode(this.field,this.serverError,this.showErrorOnGeneralError,this.errorSuffix)},a.prototype.getShowPasswordButtonText=function(){return this.showPasswordValue?"signup.password_hide":"signup.password_show"},a.prototype.toggleShowPasswordValue=function(){this.showPasswordValue=!this.showPasswordValue;var a=this.showPasswordValue?"text":"password",b=this.showPasswordValue?"off":"new-password",c=this.$element.find("input");c.attr("type",a),c.attr("autocomplete",b)},a.prototype.onShowPasswordButtonClick=function(a){a.stopPropagation(),a.preventDefault(),this.toggleShowPasswordValue()},a.prototype.shouldShowPasswordValueButton=function(){return this.showPasswordVisibilityIcon()&&this.field.$viewValue},a.prototype.updatePasswordStrength=function(){this.passwordStrength=this.passwordStrengthExtractor.getPasswordStrength(this.field.$viewValue||"")},a.prototype.getPasswordStrengthTranslationKey=function(){var a=this.passwordStrength&&this.passwordStrength.classification?this.passwordStrength.classification:"";return a?"signup.password_tooltip_strength_level_"+a:""},a.prototype.showPasswordVisibilityIcon=function(){return this.showPasswordVisibilityExp&&this.withPasswordVisibility||this.withPasswordStrength},a}();angular.module("loginAppInternal").component("mobileInput",{template:'<md-input-container ng-class="{\'has-error\': $ctrl.getError(), \'new\': $ctrl.redesign, \'has-warning\': $ctrl.warning}">\n                <label class="label" ng-if="!$ctrl.redesign && !$ctrl.showPasswordVisibilityIcon()">\n                  <div class="placeholder-label"> {{ $ctrl.label | translate}} </div>\n                </label>\n                \n                <div class="label-container" ng-if="!!$ctrl.showPasswordVisibilityIcon()">\n                  <label class="label" for="placeholder"> {{$ctrl.label | translate}} </label>\n                  <div class="show-password mobile" ng-show="$ctrl.shouldShowPasswordValueButton()" ng-class="{\'with-error\': !$ctrl.isFocused && $ctrl.getError()}">\n                    <div data-hook="strengthText" ng-show="$ctrl.withPasswordStrength && !$ctrl.isFocused && !$ctrl.getError()" translate="{{$ctrl.getPasswordStrengthTranslationKey()}}" class="strength-score-title"></div>\n                    <div class="password-icon" ng-class="{\'active\': $ctrl.showPasswordValue}" ng-mousedown="$ctrl.onShowPasswordButtonClick($event)"></div>\n                  </div>\n                </div>\n                \n                <ng-transclude></ng-transclude>\n                <div class="focus-line" ng-if="$ctrl.redesign"></div>\n                <i class="login-svg-font-icons-error-new error" ng-hide="$ctrl.warning"></i>\n                <i class="login-svg-font-icons-warning warning" ng-show="$ctrl.warning"></i>\n                <div class="error-label" translate="{{$ctrl.getError() | errorToTranslateKeyMap}}" translate-values="$ctrl.errorParams" ng-hide="$ctrl.warning"></div>\n                <div class="warning-container" ng-show="$ctrl.warning">\n                  <i class="login-svg-font-icons-warning float-warning" ng-show="$ctrl.warning"></i>\n                  <div ng-class="{\'warning-label\': true}" translate="{{$ctrl.getError() | errorToTranslateKeyMap}}" translate-values="$ctrl.errorParams"></div>\n                </div>\n              </md-input-container>\n              <password-strength-content is-mobile="true" ng-show="$ctrl.isFocused && $ctrl.withPasswordStrength" input-value="$ctrl.inputValue"></password-strength-content>',controller:MobileInput,transclude:!0,bindings:{field:"=",label:"=",serverError:"=",showErrorOnGeneralError:"=",redesign:"=",errorParams:"=",warning:"=?",withPasswordStrength:"=?",withPasswordVisibility:"=?"}});var ErrorCodeExtractor=function(){function a(a,b){this.$filter=a,this.experimentManager=b}return a.$inject=["$filter","experimentManager"],a.prototype.getServerErrorCodeFromResponse=function(b,c){return b&&b.data&&b.data.errorCode?b.data.errorCode.toString()===a.INVALID_LOGIN_PASSWORD&&b.data.payload&&b.data.payload.accountSsoLoginUrl&&(!b.data.payload.multipleAccounts||this.experimentManager.isExperimentEnabled("specs.ident.MultiAccountRecoveryFlows"))?a.INVALID_LOGIN_PASSWORD_WITH_SSO:b.data.errorCode+(c?".social":""):a.GENERAL_ERROR},a.prototype.getModelErrorCode=function(a,b,c,d){void 0===d&&(d="");var e=void 0;if(a){var f=Object.keys(a.$error).filter(function(b){return!!a.$error[b]});if(a.$invalid&&f.length>0)e=a.$name+"."+f[0],"required"!==f[0]&&d&&(e=e+"."+d);else if(b){var g=this.$filter("serverErrorToFieldMap")(b);(g===a.$name||"general"===g&&c)&&(e=b)}}return e},a}();ErrorCodeExtractor.GENERAL_ERROR="general_error",ErrorCodeExtractor.INVALID_LOGIN_PASSWORD="9972",ErrorCodeExtractor.INVALID_LOGIN_PASSWORD_WITH_SSO=ErrorCodeExtractor.INVALID_LOGIN_PASSWORD+".with_sso",ErrorCodeExtractor.EMAIL_EXISTS_ON_WIX_DOMAIN="9950",ErrorCodeExtractor.EMAIL_EXISTS_ON_EDITORX_DOMAIN="9951",angular.module("loginAppInternal").service("errorCodeExtractor",ErrorCodeExtractor);var Recaptcha2=function(){function a(a,b,c,d){var e=this;this.grecaptcha=a,this.authKeys=b,this.experimentManager=c,this.$q=d,this.isInvisibleOn=this.experimentManager.isExperimentEnabled("specs.users.GoogleRecaptchaInvisible"),a.then(function(a){e.captcha=a.enterprise})}return a.$inject=["grecaptcha","authKeys","experimentManager","$q"],a.prototype.getResponse=function(){return this.captcha?this.captcha.getResponse():!1},a.prototype.create=function(){this.captcha&&this.captcha.render("recaptcha-widget",{sitekey:this.authKeys.getKey(this.authKeys.RECAPTCHA_ENTERPRISE_SITE_KEY),theme:"light"})},a.prototype.reload=function(){this.captcha&&this.captcha.reset()},a.prototype.createOrResetCaptchaIfNeeded=function(a,b){return b?(this.reload(),!0):"9981"===a||"9982"===a?(this.create(),!0):!1},a.prototype.recaptchaParams=function(){return{recaptcha_response_field:this.getResponse(),recaptchaServerType:"GOOGLE_ENTERPRISE"}},a.prototype.getHiddenReCaptchaScore=function(a){if(!this.isInvisibleOn||!this.captcha)return this.$q.resolve("");try{return this.captcha.execute("6LfAOdsZAAAAAClPC2qOj9EtL_RxIjkwwJESOS_Z",{action:a})["catch"](function(){return""})}catch(b){return this.$q.resolve("")}},a.prototype.getRecaptchaChallengeType=function(){return this.isCheckboxChallengeMode()?this.isImageSelectChallengeMode()?"imageselect":"checkbox":"none"},a.prototype.isCheckboxChallengeMode=function(){return document.getElementById("recaptcha-widget").getElementsByTagName("iframe").length},a.prototype.isImageSelectChallengeMode=function(){for(var a=document.getElementsByTagName("iframe"),b=0,c=a;b<c.length;b++){var d=c[b];if(d.title.includes("recaptcha challenge"))return!0}return!1},a}();angular.module("loginAppInternal").service("captcha",Recaptcha2).factory("grecaptcha",["$q","$window",function(a,b){if(b.grecaptcha)return a.when(b.grecaptcha);var c=a.defer();return b.onLoadRecaptchaCallback=function(a){c.resolve(b.grecaptcha)},c.promise}]);var Autofocus=function(){function a(a,b){this.$element=a,b(function(){a[0].focus()})}return a.$inject=["$element","$timeout"],a}();angular.module("loginAppInternal").directive("autofocus",function(){return{controller:Autofocus,controllerAs:"autofocus",restrict:"A"}});var UserDeviceType=function(){function a(a,b,c,d){this.provider=a,this.locationParams=b,this.$window=c,this.experimentManager=d}return a.$inject=["provider","locationParams","$window","experimentManager"],a.prototype.isMobile=function(){return"Smartphone"===this.provider.deviceType||"mobile"===this.locationParams.mode||"Tablet"===this.provider.deviceType||this.$window.innerWidth<810},a}(),UserDeviceTypeProvider=function(){function a(){}return a.prototype.setDeviceType=function(a){this.deviceType=a},a.prototype.$get=function(a){return a.instantiate(UserDeviceType,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("userDeviceType",UserDeviceTypeProvider);var PublicDomain=function(){function a(a,b,c,d){this.provider=a,this.$location=b,this.editorXHandler=c,this.experimentManager=d}return a.$inject=["provider","$location","editorXHandler","experimentManager"],a.prototype.resolve=function(a){return 0===a.indexOf("/")?this.isLocal(a)?""+this.$location.absUrl().split("?")[0].slice(0,-1)+a:"https://manage."+this.provider.baseDomain+a:a},a.prototype.resolvePublicUrl=function(a){if(0===a.indexOf("/")){if(this.isLocal(a))return""+this.$location.absUrl().split("?")[0].slice(0,-1)+a;var b=this.getLocaleSubdomain();return"https://"+b+"."+this.provider.baseDomain+a}return a},a.prototype.getLocaleSubdomain=function(){return"en"===this.provider.locale?"www":this.provider.locale},a.prototype.getLocale=function(){return this.provider.locale},a.prototype.isLocal=function(a){return this.$location.host().match(/local/)},a}(),PublicDomainProvider=function(){function a(){}return a.prototype.setBaseDomain=function(a){this.baseDomain=a},a.prototype.setLocale=function(a){this.locale=a},a.prototype.$get=function(a){return a.instantiate(PublicDomain,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("publicDomain",PublicDomainProvider);var OAuth=function(){function a(a,b){this.provider=a,this.locationParams=b}return a.$inject=["provider","locationParams"],a.prototype.getRedirectUrl=function(){var a=this.getAppId(),b=this.getScope(),c=this.getState(),d=this.getRedirectUri();return"https://www.wix.com/oauth/authorize?appId="+a+"&state="+c+"&scope="+b+"&redirectUri="+d},a.prototype.isOauth=function(){return this.locationParams.state&&0!==this.provider.appId.indexOf("${")},a.prototype.getAppId=function(){return this.provider.appId},a.prototype.getAppName=function(){return this.provider.appName},a.prototype.getScope=function(){return this.provider.scope},a.prototype.getState=function(){return this.provider.state},a.prototype.getRedirectUri=function(){return this.provider.redirectUri},a}(),OAuthProvider=function(){function a(){this.appId="${*}"}return a.prototype.setOAuth=function(a,b,c,d,e){this.appId=a,this.appName=b,this.scope=c,this.state=d,this.redirectUri=e},a.prototype.$get=function(a){return a.instantiate(OAuth,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("oauth",OAuthProvider);var SessionId=function(){function a(a){this.locationParams=a,this.sessionId=""}return a.$inject=["locationParams"],a.prototype.get=function(){if(!this.sessionId){var a=this.locationParams.sessionId;a?this.sessionId=a:this.sessionId=this.getNewGuid()}return this.sessionId},a.prototype.getNewGuid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a}();angular.module("loginAppInternal").service("sessionId",SessionId);var HASHING_SALT="@@@wix-D15BA8F5-3031-42CA-BD43-0B68F418B2F0@@@",Hashing=function(){function a(){}return a.prototype.digest=function(a){return md5?md5(a+HASHING_SALT):""},a.prototype.hashEmail=function(a){var b=a.lastIndexOf("@"),c=a.substr(0,b),d=a.substr(b+1);return"wix.com"!==d&&(c=this.digest(c)),c+"@"+d},a}();angular.module("loginAppInternal").service("hashing",Hashing);var Sso=function(){function a(a,b,c,d,e,f){this.$location=a,this.$document=b,this.locationParams=c,this.redirectHandler=d,this.wixBiLogger=e,this.biEvents=f,this.SSO_BASIC_PATH="/login/sso/";var g=this.$location.absUrl();!this.locationParams.originUrl&&this.$document[0]&&this.$document[0].referrer&&(g+=(Object.keys(this.locationParams).length?"&":"?")+"originUrl="+encodeURIComponent(this.$document[0].referrer));var h=this.locationParams.defaultEmail?"&email="+encodeURIComponent(this.locationParams.defaultEmail?this.locationParams.defaultEmail:""):"";this.SSO_LOGIN_WITH_EMAIL_PATH=this.SSO_BASIC_PATH+"enter-email?loginPageUrl="+encodeURIComponent(g)+h+"&targetUrl="+encodeURIComponent(this.locationParams.postLogin),this.SSO_ENTER_WIX_PATH=this.SSO_BASIC_PATH+"main?loginPageUrl="+encodeURIComponent(g)}return a.$inject=["$location","$document","locationParams","redirectHandler","wixBiLogger","biEvents"],a.prototype.handleLoginWithSsoClicked=function(){this.wixBiLogger.log(this.biEvents.LOGIN_WITH_SSO_LINK_CLICKED),this.redirectHandler.redirect(this.SSO_LOGIN_WITH_EMAIL_PATH)},a}();angular.module("loginAppInternal").service("sso",Sso);var BiEvents=function(){function a(){this.evMap={},this.defineBIEvent("ON_START",300),this.defineBIEvent("ON_SWITCH_CONTEXT",101),this.defineBIEvent("LOGIN_SUBMIT",110),this.defineBIEvent("SIGNUP_SUBMIT",120),this.defineBIEvent("FORGOT_PASSWORD_SUBMIT",131),this.defineBIEvent("NO_SUCH_MAIL",127),this.defineBIEvent("SOCIAL_LOGIN_CLICKED",140),this.defineBIEvent("SOCIAL_AUTH_ERROR",141),this.defineBIEvent("SOCIAL_AUTH_SUCCESS",142),this.defineBIEvent("DIALOG_CLOSED",303),this.defineBIEvent("VERIFY_ACCOUNT_SUBMIT",143),this.defineBIEvent("GET_EMAIL_SUBMIT",149),this.defineBIEvent("FULL_STORY_READY",400),this.defineBIEvent("SOCIAL_LOGIN_EARLY_CLICK",139),this.defineBIEvent("SOCIAL_LOGIN_DEBUG",138),this.defineBIEvent("CLICK_CONTINUE",129),this.defineBIEvent("CLICK_CONTINUE_ERROR",135),this.defineBIEvent("CLICK_FORGOT_PASSWORD",136),this.defineBIEvent("CLICK_VERIFY_CODE",150),this.defineBIEvent("CLICK_RESEND_CODE",151),this.defineBIEvent("CLICK_LOST_ACCESS_PHONE",152),this.defineBIEvent("CODE_VERIFY_SUCCESS",153),this.defineBIEvent("CODE_VERIFY_FAILURE",154),this.defineBIEvent("ENTER_CODE_DIALOG_LOAD",156),this.defineBIEvent("ERROR_INTERACTION_NOT_CLOSED",305),this.defineBIEvent("RECOVER_ACCOUNT_ENTER_CODE_DIALOG_LOAD",161),this.defineBIEvent("RECOVER_ACCOUNT_CLICK_VERIFY_CODE",162),this.defineBIEvent("RECOVER_ACCOUNT_CLICK_RESEND_CODE",163),this.defineBIEvent("RECOVER_ACCOUNT_CLICK_LOST_ACCESS_PHONE",164),this.defineBIEvent("RECOVER_ACCOUNT_CODE_VERIFY_SUCCESS",165),this.defineBIEvent("RECOVER_ACCOUNT_CODE_VERIFY_FAILURE",166),this.defineBIEvent("RECOVER_ACCOUNT_RESET_PASSWORD_LOAD",167),this.defineBIEvent("RECOVER_ACCOUNT_RESET_PASSWORD_SAVE_CLICK",168),this.defineBIEvent("RECOVER_ACCOUNT_RESET_PASSWORD_SUCCESS_SELECTION",169),this.defineBIEvent("SHOW_POST_SIGNUP_MODAL",137),this.defineBIEvent("ANSWER_POST_SIGNUP_MODAL",170),this.defineBIEvent("SIGNUP_PASSWORD_INDICATOR",171),this.defineBIEvent("GOOGLE_INCOGNITO_LOGIN_ERROR",177),this.defineBIEvent("ENTER_CODE_CLICK_BACK",155),this.defineBIEvent("ENTER_CODE_SEND_BY_PHONE",175),this.defineBIEvent("ENTER_CODE_SEND_BY_EMAIL",176),this.defineBIEvent("ENTER_CODE_LOGIN_WITH_AUTH_APP",179),this.defineBIEvent("LOGIN_WITH_SSO_LINK_CLICKED",180)}return a.prototype.defineBIEvent=function(a,b){this[a]=a,this.evMap[a]={evid:b}},a.prototype.getEventMap=function(){return this.evMap},a.prototype.getContext=function(a){switch(a){case"login":return"login";case"signup":return"sign-up";case"forgot-password":return"forgot-password";case"account-verification":return"account-verify";case"enter-email":return"get-email";case"forgot-password-confirmation":return"email-sent";default:return a}},a}();angular.module("loginAppConstants").constant("biEvents",new BiEvents);var UserServerApi=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m){this.$http=a,this.sessionId=b,this.userDeviceType=c,this.originUrl=d,this.experimentManager=e,this.$q=f,this.$timeout=g,this.locationParams=h,this.$locale=i,this.$cookies=j,this.$location=k,this.autoLogin=l,this.wixAngular=m,this.relOrAbs=this.$location.path().match("signin$")?"":"/_api/wix-html-login-webapp/"}return a.$inject=["$http","sessionId","userDeviceType","originUrl","experimentManager","$q","$timeout","locationParams","$locale","$cookies","$location","autoLogin","wixAngular"],a.prototype.extendParams=function(a){for(var b in a)void 0===a[b]&&delete a[b];return angular.extend(a,{ldSessionID:this.sessionId.get(),originView:this.userDeviceType.isMobile()?"mobile":"desktop",urlThatUserRedirectedFrom:this.originUrl,overrideLocale:this.$locale.id,language:this.$locale.id})},a.prototype.extendRecaptchaParams=function(a,b){return angular.extend(a,{"recaptchaParams.recaptcha_response_field":b.recaptcha_response_field}),b.recaptchaServerType&&angular.extend(a,{"recaptchaParams.recaptchaServerType":b.recaptchaServerType}),a},a.prototype.addColorIfNeeded=function(a){var b=this.locationParams.color||this.locationParams.userColor;b&&angular.extend(a,{color:b})},a.prototype.addReferralInfoIfNeeded=function(a){var b=this.locationParams.referralInfo;b&&angular.extend(a,{referralInfo:b})},a.prototype.addInviteTokenIfNeeded=function(a){var b=this.locationParams.inviteToken;b&&angular.extend(a,{inviteToken:b})},a.prototype.addSendEmailIfNeeded=function(a){var b=this.locationParams.sendEmail;("true"===b||"false"===b)&&angular.extend(a,{sendEmail:b})},a.prototype.addUserTokenIfNeeded=function(a){var b=this.locationParams.userToken;b&&angular.extend(a,{userToken:b})},a.prototype.addPxAccessTokenToHeadersAndRemoveCookieIfNeeded=function(a){var b=this.locationParams.px;return b&&(angular.extend(a,{"x-px-access-token":b}),this.$cookies.remove("_px",{domain:".wix.com"}),this.$cookies.remove("_px3",{domain:".wix.com"}),this.$cookies.remove("_pxvid",{domain:".wix.com"})),a},a.prototype.transformRequest=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},a.prototype.signup=function(a,b,c){var d=c.recaptchaParams,e=c.invisibleRecaptcha,f={email:a,password:b,invisibleRecaptcha:e};d&&this.extendRecaptchaParams(f,d),this.addColorIfNeeded(f),this.addSendEmailIfNeeded(f),this.addUserTokenIfNeeded(f),this.addReferralInfoIfNeeded(f),this.addInviteTokenIfNeeded(f),this.extendParams(f);var g={"Content-Type":"application/x-www-form-urlencoded"};return this.$http.post(this.relOrAbs+"auth/register",f,{headers:this.addPxAccessTokenToHeadersAndRemoveCookieIfNeeded(g),transformRequest:this.transformRequest})},a.prototype.login=function(a,b,c){var d=this,e=c.recaptchaParams,f=void 0===e?null:e,g=c.invisibleRecaptcha,h=c.rememberMe,i={email:a,
password:b,rememberMe:h,invisibleRecaptcha:g};f&&this.extendRecaptchaParams(i,f),this.addColorIfNeeded(i),this.addUserTokenIfNeeded(i),this.addReferralInfoIfNeeded(i),this.extendParams(i);var j={"Content-Type":"application/x-www-form-urlencoded"};return this.$http.post(this.relOrAbs+"auth/v2/login",i,{headers:this.addPxAccessTokenToHeadersAndRemoveCookieIfNeeded(j),transformRequest:this.transformRequest}).then(function(c){return h&&d.autoLogin.storeCredentials(a,b),c})},a.prototype.verifyCodeAndLogin=function(a,b,c,d){var e={twoFAToken:a,code:c,rememberMe:b,twoFAMethod:d},f={"Content-Type":"application/x-www-form-urlencoded"};return this.$http.post(this.relOrAbs+"auth/verifycodeandlogin",e,{headers:this.addPxAccessTokenToHeadersAndRemoveCookieIfNeeded(f),transformRequest:this.transformRequest})},a.prototype.resendSecondFactorCode=function(a,b,c){var d={twoFAToken:a,twoFAMethod:b,phoneDeliveryMethod:c},e={"Content-Type":"application/x-www-form-urlencoded"};return this.$http.post(this.relOrAbs+"auth/resend2facode",d,{headers:this.addPxAccessTokenToHeadersAndRemoveCookieIfNeeded(e),transformRequest:this.transformRequest})},a.prototype.verifyRecoveryCode=function(a,b,c){var d={email:a,code:b,parentAccountId:c},e={"Content-Type":"application/x-www-form-urlencoded"};return this.$http.post(this.relOrAbs+"auth/verifyrecoverycode",d,{headers:e,transformRequest:this.transformRequest})},a.prototype.resendRecoveryCode=function(a){var b={"Content-Type":"application/x-www-form-urlencoded"};return this.$http.post(this.relOrAbs+"auth/sendrecoverycode?email="+a,{},{headers:b,transformRequest:this.transformRequest})},a.prototype.isEmailExists=function(a,b){return this.$http.get(this.relOrAbs+"auth/status?email="+encodeURIComponent(a)+"&context="+b)},a.prototype.forgotPassword=function(a,b,c){var d=this.extendParams({email:a,invisibleRecaptcha:b,recaptcha:c});return this.$http.post("/_api/wix-html-login-webapp/auth/forgotPassword",d,{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:this.transformRequest})},a.prototype.socialLogin=function(a,b){return this.addColorIfNeeded(a),this.addUserTokenIfNeeded(a),this.addReferralInfoIfNeeded(a),this.addInviteTokenIfNeeded(a),this.extendParams(a),this.$http.post(this.relOrAbs+"social/login/"+b,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:this.transformRequest})},a.prototype.resetPassword=function(a){return this.$http.post("/_api/wix-html-login-webapp/link/changePasswordAjax",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:this.transformRequest})},a.prototype.sendVerificationEmail=function(){return this.$http.post("//www.wix.com/_api/account-settings-server/send-verification-email",{})},a}();angular.module("loginAppInternal").service("userServerApi",UserServerApi),angular.module("loginAppInternal").directive("defaultEmail",["locationParams",function(a){return{controllerAs:"defaultEmail",require:"ngModel",bindToController:!0,restrict:"A",link:function(b,c){a.defaultEmail&&(c.val(a.defaultEmail),c.triggerHandler("input"))}}}]);var ThankYou=function(){function a(a){this.signedInInfo=a}return a.$inject=["signedInInfo"],a.prototype.getUserEmail=function(){return this.signedInInfo.getEmail()},a}();angular.module("loginAppInternal").component("thankYou",{templateUrl:"views/mobile/thank-you.html",controller:ThankYou});var PostSignupHandler=function(){function a(a,b,c,d,e){this.experimentManager=a,this.locationParams=b,this.wixBiLogger=c,this.biEvents=d,this.wixModal=e}return a.$inject=["experimentManager","locationParams","wixBiLogger","biEvents","wixModal"],a.prototype.openPostSignupModal=function(a,b){var c={scope:b.$new(),templateUrl:"views/post-signup-modal.html",controller:"postSignupModal",controllerAs:"postSignupModal",modalClass:"post-signup-modal",locals:{signupResData:a}};return this.wixBiLogger.log(this.biEvents.SHOW_POST_SIGNUP_MODAL,{screen_name:"signup"}),this.wixModal.open(c)},a.prototype.shouldShowModal=function(a,b){return void 0===b&&(b=!1),this.experimentManager.isExperimentEnabled("specs.ident.ShowPostSignupModal")&&!this.locationParams.color&&(!b||a&&a.action&&"register"===a.action)},a}();angular.module("loginAppInternal").service("postSignupHandler",PostSignupHandler);var SignedInInfo=function(){function a(){}return a.prototype.getEmail=function(){return this.email},a.prototype.setEmail=function(a){this.email=a},a.prototype.resetData=function(){var a=this,b=Object.keys(this);b.forEach(function(b){return a[b]=void 0})},a}();angular.module("loginAppInternal").service("signedInInfo",SignedInInfo);var AuthKeys=function(){function a(a){this.provider=a,this.FACEBOOK_CLIENT_ID="facebookClientId",this.GOOGLE_CLIENT_ID="googleClientId",this.RECAPTCHA_V2_SITE_KEY="recaptchaV2SiteKey",this.RECAPTCHA_ENTERPRISE_SITE_KEY="recaptchaEnterpriseSiteKey"}return a.$inject=["provider"],a.prototype.getKey=function(a){return this.provider.keys[a]},a}(),AuthKeysProvider=function(){function a(){this.keys={facebookClientId:"733768086637828",googleClientId:"352188552355.apps.googleusercontent.com",recaptchaV2SiteKey:"6LdtOAwTAAAAACLjEoxRBtqtm0RccjIFsLRrq6Wg",recaptchaEnterpriseSiteKey:"6LeOHQcaAAAAAAL2mgMVNK-YkWLsML0RsJ10BbJs"}}return a.prototype.setKeys=function(a){console.log("Old index.vm  keystore-   ",a)},a.prototype.setFacebookKey=function(a){"${facebookClientId}"!==a&&(this.keys.facebookClientId=a)},a.prototype.$get=function(a){return a.instantiate(AuthKeys,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("authKeys",AuthKeysProvider);var AccountRecoveryInfo=function(){function a(){}return a.prototype.getPhoneHint=function(){return this.phoneHint},a.prototype.setPhoneHint=function(a){this.phoneHint=a},a.prototype.getAccountEmail=function(){return this.accountEmail},a.prototype.setAccountEmail=function(a){this.accountEmail=a},a.prototype.getResetPasswordToken=function(){return this.resetPasswordToken},a.prototype.setResetPasswordToken=function(a){this.resetPasswordToken=a},a}();angular.module("loginAppInternal").service("accountRecoveryInfo",AccountRecoveryInfo),angular.module("loginAppInternal").component("spinner",{template:'<svg class="spinner" width="29" height="29" viewBox="0 0 66 66"">\n                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n              </svg>'});var SocialSignin=function(){function a(a,b,c,d,e,f,g){this.socialLogin=a,this.contextManager=b,this.userDeviceType=c,this.appleLoginHandler=d,this.experimentManager=e,this.locationParams=f,this.sso=g,this.googleLoading=!1,this.fbLoading=!1,this.appleLoading=!1,this.googleError=!1,this.googlePreLoginError=!1,this.appleError=!1,this.fbError=!1,this.shouldShowApple=!1,this.showFacebookError=!1,this.hideFacebookButton=!1,this.hideGoogleButton=!1,this.showGoogleError=!1,this.showAppleError=!1,this.isEducation=!1,this.switchSocialButtonsLocation=!1,this.context=this.contextManager.getContext(),this.shouldShowApple=0===this.context.indexOf("login")&&!this.experimentManager.isExperimentEnabled("specs.ident.HideAppleButton"),this.isEducation=f.color&&f.color.startsWith("EDUCATION"),this.showFacebookError=this.experimentManager.isExperimentEnabled("specs.ident.ShowFacebookErrorMsg"),this.hideFacebookButton=this.experimentManager.isExperimentEnabled("specs.ident.HideFacebookButton"),this.showGoogleError=this.experimentManager.isExperimentEnabled("specs.ident.ShowGoogleErrorMsg"),this.showAppleError=this.experimentManager.isExperimentEnabled("specs.ident.ShowAppleErrorMsg"),this.hideGoogleButton=this.experimentManager.isExperimentEnabled("specs.ident.HideGoogleButton"),this.switchSocialButtonsLocation=this.experimentManager.isExperimentEnabled("specs.ident.SwitchSocialButtonsLocation")}return a.$inject=["socialLogin","contextManager","userDeviceType","appleLoginHandler","experimentManager","locationParams","sso"],a.prototype.socialClicked=function(a){var b=this;this.googleError=this.fbError=this.appleError=!1,this.socialLogin.reportClick(this.context,a),"apple"===a&&this.appleLoginHandler.signIn(function(a){return b.appleLoading=a})["catch"](function(a){b.appleError=!0})},a.prototype.showSSOLoginLink=function(){return"login"===this.context&&this.experimentManager.isExperimentEnabled("specs.ident.ShowLoginWithSSO")},a.prototype.ssoLinkClicked=function(){this.sso.handleLoginWithSsoClicked()},a}();angular.module("loginAppInternal").component("socialSignin",{template:'<div ng-include="$ctrl.templateUrl">\n               </div>',controller:SocialSignin,bindings:{templateUrl:"=",fbButtonText:"=",googleButtonText:"=",appleButtonText:"="}});var GoogleLogin=function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this;this.gapi=b,this.authKeys=c,this.socialLogin=d,this.experimentManager=e,this.googleLoginHandler=f,this.errorCodeExtractor=g,this.postSignupHandler=h,this.$scope=i,this.wixBiLogger=j,this.biEvents=k;var m=function(a){return l.googleSocialLoginHandler(a,function(a){return l.googleLoading=a})};d.currentGoogleCallback=m;var n=function(b){return b&&b.signIn?void a[0].addEventListener("click",function(){b.signIn().then(function(a){return m(a.getAuthResponse())})["catch"](function(a){return m(a)})}):void(l.googleError=!0)},o=function(b){"idpiframe_initialization_failed"===b.error&&a[0].addEventListener("click",function(){l.wixBiLogger.log(l.biEvents.GOOGLE_INCOGNITO_LOGIN_ERROR),l.googlePreLoginError=!0})};this.gapi.when().then(function(b){b.load("auth2",function(){var c=b.auth2.init({client_id:"352188552355.apps.googleusercontent.com",scope:"openid profile email"});if(l.experimentManager.isExperimentEnabled("specs.ident.ShowGoogleIncognitoError"))c.then(n,o);else{if(!c||!c.signIn)return void(l.googleError=!0);a[0].addEventListener("click",function(){c.signIn().then(function(a){return m(a.getAuthResponse())})["catch"](function(a){return m(a)})})}})})}return a.$inject=["$element","gapi","authKeys","socialLogin","experimentManager","googleLoginHandler","errorCodeExtractor","postSignupHandler","$scope","wixBiLogger","biEvents"],a.prototype.googleSocialLoginHandler=function(a,b){var c=this;this.googleLoginHandler(a,b).then(function(a){a&&c.postSignupHandler.shouldShowModal(a.data,!0)&&c.postSignupHandler.openPostSignupModal(a.data,c.$scope)})["catch"](function(a){c.serverError=c.errorCodeExtractor.getServerErrorCodeFromResponse(a),c.googleError=!0})},a}();angular.module("loginAppInternal").directive("googleLogin",function(){return{controller:GoogleLogin,controllerAs:"googleLogin",scope:{onError:"=",googleError:"=?",googleLoading:"=",googlePreLoginError:"=?"},bindToController:!0,restrict:"A"}});var FacebookLogin=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this;this.$scope=a,this.$element=b,this.$window=c,this.fb=d,this.authKeys=e,this.wixBiLogger=f,this.experimentManager=g,this.biEvents=h,this.socialLogin=i,this.redesign=j,this.errorCodeExtractor=l,this.postSignupHandler=m,this.context=k.getContext(),this.initFacebook(function(a){return n.fbLoading=a})}return a.$inject=["$scope","$element","$window","fb","authKeys","wixBiLogger","experimentManager","biEvents","socialLogin","redesign","contextManager","errorCodeExtractor","postSignupHandler"],a.prototype.reportDebug=function(a){this.wixBiLogger.log(this.biEvents.SOCIAL_LOGIN_DEBUG,{step:a})},a.prototype.initFacebook=function(a){var b=this,c=this.experimentManager.isExperimentEnabled("specs.ident.BumpFacebookSDK")?"v12.0":"v5.0";this.fb.when().then(function(){var d=b.$window.FB;d.init({appId:b.authKeys.getKey(b.authKeys.FACEBOOK_CLIENT_ID),version:c,channelUrl:"//www.wix.com/channel.html",status:!0,cookie:!0,xfbml:!1}),b.reportDebug("FB_status_before"),d.getLoginStatus(function(a){b.reportDebug("FB_status_callback"),b.fbWasAlreadyConnected="connected"===a.status}),b.$element[0].addEventListener("click",function(){return b.onClickFacebook(d,a)})})},a.prototype.onClickFacebook=function(a,b){var c=this;if(a=this.$window.FB,this.reportDebug("FB_login_before"),!a||!a.login)return void(this.fbError=!0);var d=function(a){if(c.reportDebug("FB_login_callback"),a.authResponse&&a.authResponse.userID){var d=function(a){c.serverError=c.errorCodeExtractor.getServerErrorCodeFromResponse(a),c.fbError=!0},e=a.authResponse.accessToken,f=a.authResponse.userID;c.wixBiLogger.log(c.biEvents.SOCIAL_AUTH_SUCCESS,{socialNetwork:"facebook",context:c.biEvents.getContext(c.context),interactive:!c.fbWasAlreadyConnected,version:c.redesign.isRedesign()?"new":"old"}),c.socialLogin.loginToWix({access_token:e,user_id:f},"facebook",b,c.$scope).then(function(a){a&&c.postSignupHandler.shouldShowModal(a.data,!0)&&c.postSignupHandler.openPostSignupModal(a.data,c.$scope)})["catch"](d)}else c.wixBiLogger.log(c.biEvents.SOCIAL_AUTH_ERROR,{socialNetwork:"facebook",reason:a.status,version:c.redesign.isRedesign()?"new":"old"}),c.fbError=!0};a.login(d,{scope:"email"})},a}();angular.module("loginAppInternal").directive("facebookLogin",function(){return{controller:FacebookLogin,controllerAs:"facebookLogin",scope:{onError:"=",fbError:"=?",fbLoading:"="},bindToController:!0,restrict:"A"}});var ResetPassword=function(){function a(a,b,c,d,e,f,g,h,i,j){this.biEvents=a,this.wixBiLogger=b,this.userServerApi=c,this.errorCodeExtractor=d,this.userDeviceType=e,this.locationParams=f,this.contextManager=g,this.experimentManager=h,this.accountRecoveryInfo=i,this.passwordStrengthExtractor=j,this.loading=!1,this.isRecoveryMode=!1,this.token=this.locationParams.emailToken||this.accountRecoveryInfo.getResetPasswordToken(),this.isRecoveryMode=!!this.accountRecoveryInfo.getResetPasswordToken(),this.isRecoveryMode&&this.wixBiLogger.log(this.biEvents.RECOVER_ACCOUNT_RESET_PASSWORD_LOAD)}return a.$inject=["biEvents","wixBiLogger","userServerApi","errorCodeExtractor","userDeviceType","locationParams","contextManager","experimentManager","accountRecoveryInfo","passwordStrengthExtractor"],a.prototype.doResetPassword=function(){var a=this;this.loading=!0,this.isRecoveryMode&&this.wixBiLogger.log(this.biEvents.RECOVER_ACCOUNT_RESET_PASSWORD_SAVE_CLICK),this.userServerApi.resetPassword({emailToken:this.token,newPassword:this.password}).then(function(){a.experimentManager.isExperimentEnabled("specs.ident.SendPasswordStrengthBiEvent")&&a.wixBiLogger.log(a.biEvents.SIGNUP_PASSWORD_INDICATOR,{strength:a.passwordStrengthExtractor.getPasswordStrengthForBiEvent(a.password),origin:"reset password"}),a.contextManager.setContext("reset-password-confirmation")})["catch"](function(b){var c=a.errorCodeExtractor.getServerErrorCodeFromResponse(b);a.serverError=c,a.loading=!1})},a}();angular.module("loginAppInternal").component("resetPassword",{template:"<div ng-include=\"$ctrl.userDeviceType.isMobile() ? 'views/mobile/reset-password.html' : 'views/desktop/reset-password.html'\">\n               </div>",controller:ResetPassword});var ResetPasswordConfirmation=function(){function a(a,b,c,d,e){var f=this;this.wixBiLogger=a,this.biEvents=b,this.accountRecoveryInfo=c,this.editorXHandler=d,this.$window=e,this.canNotAccessEmailRecovery=!1,this.selectedOption=!1,this.canNotAccessEmailRecovery=!!this.accountRecoveryInfo.getResetPasswordToken(),e.onunload=function(){return!f.selectedOption&&f.canNotAccessEmailRecovery&&f.recoveryModeSelection("close")}}return a.$inject=["wixBiLogger","biEvents","accountRecoveryInfo","editorXHandler","$window"],a.prototype.getHomePageUrl=function(){return"http://www."+(this.editorXHandler.isEditorX()?"editorx":"wix")+".com"},a.prototype.getMainButtonUrl=function(){var a=this.editorXHandler.isEditorX()?"editorx":"wix";return this.canNotAccessEmailRecovery?"https://www."+a+".com/account/account-settings":"http://www."+a+".com"},a.prototype.getMainButtonText=function(){return this.canNotAccessEmailRecovery?"reset_password_confirmation.can_not_access_email.account_settings":"reset_password_confirmation.done"},a.prototype.recoveryModeSelection=function(a){this.selectedOption=!0,this.wixBiLogger.log(this.biEvents.RECOVER_ACCOUNT_RESET_PASSWORD_SUCCESS_SELECTION,{selection:a})},a}();angular.module("loginAppInternal").component("resetPasswordConfirmation",{templateUrl:"views/reset-password-confirmation.html",controller:ResetPasswordConfirmation}),angular.module("loginAppInternal").factory("googleLoginHandler",["wixBiLogger","biEvents","contextManager","socialLogin","$q","experimentManager","redesign",function(a,b,c,d,e,f,g){return function(f,h){var i=e.defer(),j=f.code,k=f.id_token,l=f.error,m=f.state,n="googleOT"===m,o=function(){return n?!k:!k||m&&!j};if(l||o())a.log(b.SOCIAL_AUTH_ERROR,{socialNetwork:"google",reason:l||"Unknown error",state:m,version:g.isRedesign()?"new":"old"}),i.reject(l);else{a.log(b.SOCIAL_AUTH_SUCCESS,{socialNetwork:"google",context:b.getContext(c.getContext()),interactive:"consent"===f.prompt,state:m,version:g.isRedesign()?"new":"old"});var p={code:j,id_token:k};if(m&&!n){var q=window.location.href.split("#")[0];angular.extend(p,{state:m,redirectUri:q})}d.loginToWix(p,"google",h).then(function(a){i.resolve(a)})["catch"](function(a){i.reject(a)})}return i.promise}}]),angular.module("loginAppInternal").factory("googleDomainFlowHandler",["$location","googleLoginHandler","contextManager",function(a,b,c){return function(){var d=a.hash();if(d){var e=d.split("&").reduce(function(a,b){var c=b.split(/=(.+)/,2),d=c[0],e=c[1];return a[d]=e,a},{});e.state&&(c.setContext("gdomain"),b(e,angular.noop))}}}]),angular.module("loginAppInternal").component("bigLoader",{template:'\n            <div class="loader-container">\n              <div class="loader">\n                <div class="wheel"></div>\n              </div>\n            </div>\n'});var Geo=function(){function a(a,b){this.provider=a,this.experimentManager=b}return a.$inject=["provider","experimentManager"],a.prototype.isInEU=function(){var a=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];return-1!==a.indexOf(this.provider.countryCode)},a}(),GeoProvider=function(){function a(){}return a.prototype.setCountryCode=function(a){this.countryCode=a},a.prototype.$get=function(a){return a.instantiate(Geo,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("geo",GeoProvider);var Redesign=function(){function a(a,b,c){this.locationParams=a,this.contextManager=b,this.experimentManager=c,this.newContexts=["login-email","login-password","signup-email","signup-password","enter-code"],this.redesignedContexts={login:"login-email",signup:"signup-email"}}return a.$inject=["locationParams","contextManager","experimentManager"],a.prototype.isRedesign=function(){return this.newContexts.indexOf(this.contextManager.getContext())>-1},a.prototype.shouldRenderRedesign=function(){return this.experimentManager.isExperimentEnabled("specs.users.ServerLoginRedesign")},a.prototype.getRedesignedContext=function(a){return this.redesignedContexts[a]},a}();angular.module("loginAppInternal").service("redesign",Redesign);var AutoLogin=function(){function a(a,b,c){this.$window=a,this.$q=b,this.experimentManager=c}return a.$inject=["$window","$q","experimentManager"],a.prototype.getCredentials=function(){return this.experimentManager.isExperimentEnabled("specs.users.AutoLogin")&&this.$window.PasswordCredential?this.$window.navigator.credentials.get({password:!0,mediation:"required"}):this.$q.resolve(null)},a.prototype.storeCredentials=function(a,b){if(this.experimentManager.isExperimentEnabled("specs.users.AutoLogin")&&this.$window.PasswordCredential){var c=new this.$window.PasswordCredential({id:a,password:b});return this.$window.navigator.credentials.store(c)}return this.$q.resolve(null)},a}();angular.module("loginAppInternal").service("autoLogin",AutoLogin);var EmailVerification=function(){function a(a){this.provider=a}return a.$inject=["provider"],a.prototype.isEmailVerificationScreen=function(){return this.provider.isEmailVerificationScreen},a.prototype.emailVerificationErrorCode=function(){return this.provider.emailVerificationErrorCode},a.prototype.tokenEmail=function(){return this.provider.tokenEmail},a.prototype.sessionEmail=function(){return this.provider.sessionEmail},a}(),EmailVerificationProvider=function(){function a(){}return a.prototype.setEmailVerificationErrorData=function(a,b,c){this.tokenEmail=0===b.indexOf("${")?"":b,this.sessionEmail=0===c.indexOf("${")?"":c;var d=parseInt(a,10);this.isEmailVerificationScreen=!isNaN(d),this.emailVerificationErrorCode=d},a.prototype.$get=function(a){return a.instantiate(EmailVerification,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("emailVerification",EmailVerificationProvider);var TwoFactorAuth=function(){function a(a,b){this.provider=a,this.experimentManager=b,this.fallbackEmailMode=!1}return a.$inject=["provider","experimentManager"],a.prototype.getTwoFAToken=function(){return this.provider.twoFAToken},a.prototype.getTargetUrl=function(){return this.provider.targetUrl},a.prototype.getTwoFAHint=function(){return this.provider.twoFAHint},a.prototype.shouldRenderEnterCode=function(){return!!this.getTwoFAToken()},a.prototype.setTwoFAToken=function(a){this.provider.setTwoFAToken(a)},a.prototype.setTwoFAHint=function(a){this.provider.setTwoFAHint(a)},a.prototype.setCurrentTwoFAMethod=function(a){this.provider.setCurrentTwoFAMethod(a)},a.prototype.setEnabledTwoFAMethods=function(a){this.provider.setEnabledTwoFAMethods(a)},a.prototype.setFallbackEmailMode=function(a){this.fallbackEmailMode=a},a.prototype.isFallbackEmailMode=function(){return this.fallbackEmailMode},a.prototype.getCurrentTwoFAMethod=function(){return this.provider.currentTwoFAMethod},a.prototype.getEnabledTwoFAMethods=function(){return this.provider.enabledTwoFAMethods},a}();TwoFactorAuth.PHONE_METHOD="Phone",TwoFactorAuth.EMAIL_METHOD="Email",TwoFactorAuth.TOTP_METHOD="TOTP",TwoFactorAuth.PHONE_SMS_DELIVERY_METHOD="SMS",TwoFactorAuth.PHONE_VOICE_CALL_DELIVERY_METHOD="VOICE_CALL";var TwoFactorAuthProvider=function(){function a(){}return a.prototype.setTwoFA=function(a,b,c,d,e){this.setInjectedKey("twoFAToken",a),this.setInjectedKey("targetUrl",b),this.setInjectedKey("twoFAHint",c),this.setInjectedKey("currentTwoFAMethod",d),this.setInjectedKey("enabledTwoFAMethods",e)},a.prototype.setTwoFAToken=function(a){this.setInjectedKey("twoFAToken",a)},a.prototype.setTwoFAHint=function(a){this.setInjectedKey("twoFAHint",a)},a.prototype.setEnabledTwoFAMethods=function(a){var b;if("string"==typeof a)try{b="${"===a.substring(0,2)?void 0:JSON.parse(a)}catch(c){b=[this.currentTwoFAMethod]}else b=a;this.enabledTwoFAMethods=b},a.prototype.setCurrentTwoFAMethod=function(a){this.setInjectedKey("currentTwoFAMethod",a)},a.prototype.setInjectedKey=function(a,b){this[a]=b&&b.startsWith("${")?void 0:b},a.prototype.$get=function(a){return a.instantiate(TwoFactorAuth,{provider:this})},a.prototype.$get.$inject=["$injector"],a}();angular.module("loginAppInternal").provider("twoFactorAuth",TwoFactorAuthProvider),angular.module("loginAppInternal").component("bouncingPoints",{template:'<div class="points">\n                  <div class="point bounce point1">\n                  </div>\n                  <div class="point bounce point2">\n                  </div>\n                  <div class="point bounce point3">\n                  </div>\n              </div>'});var EnterCode=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){this.$q=a,this.userServerApi=b,this.fedopsLogger=c,this.redirectHandler=d,this.errorCodeExtractor=e,this.wixBiLogger=f,this.biEvents=g,this.$timeout=h,this.contextManager=i,this.redesign=j,this.userDeviceType=k,this.originUrl=l,this.sessionId=m,this.twoFactorAuth=n,this.accountRecoveryInfo=o,this.publicDomain=p,this.$translate=q,this.signedInInfo=r,this.$element=s,this.experimentManager=t,this.locationParams=u,this.RESEND_CODE_TIMEOUT=3e3,this.loadingVerification=!1,this.loadingResendcode=!1,this.rememberThisDevice=!0,this.resendCodeTooltipOpen=!1,this.voiceCallTooltipOpen=!1,this.voiceCallHasError=!1,this.isRecoveryMode=!1,this.errorParams={},this.fallbackEmailMode=!1,this.showResendEmailHint=!1,this.INVALID_CODE="8001",this.INVALID_AUTH_TOKEN="8002",this.TOO_MANY_ATTEMPTS="8004",this.CODE_EXPIRED="8006",this.ACCOUNT_RECOVERY_CODE_TOO_MANY_ATTEMPTS="8010",this.ACCOUNT_RECOVERY_CODE_INVALID_CODE="8011",this.LOST_ACCESS_TO_PHONE_ARTICLE_URL="https://support.wix.com/en/article/unable-to-sign-into-your-wix-account-lost-phone",this.LOST_ACCESS_TO_EMAIL_ARTICLE_URL="https://support.wix.com/en/article/unable-to-sign-in-to-your-wix-account-cant-access-email-account",this.TWO_FA_METHODS=(v={},v[TwoFactorAuth.TOTP_METHOD]="totp",v[TwoFactorAuth.PHONE_METHOD]="phone",v[TwoFactorAuth.EMAIL_METHOD]="email",v),this.twoFAToken=n.getTwoFAToken(),this.accountEmail=o.getAccountEmail(),this.isRedesign=this.redesign.shouldRenderRedesign(),this.isMobile=this.userDeviceType.isMobile(),this.phoneHint=o.getPhoneHint(),this.twoFAHint=n.getTwoFAHint(),this.isRecoveryMode=!(!o.getPhoneHint()||!this.accountEmail),this.fallbackEmailMode=n.isFallbackEmailMode(),this.currentTwoFAMethod=n.getCurrentTwoFAMethod(),this.enabledTwoFAMethods=n.getEnabledTwoFAMethods(),this.switchMethods=this.getSwitchMethods(),this.shouldShowSwitchMethodOption=this.isSwitchMethodEnabled(),this.initMfaKeys(),this.isRecoveryMode?this.wixBiLogger.log(this.biEvents.RECOVER_ACCOUNT_ENTER_CODE_DIALOG_LOAD):this.wixBiLogger.log(this.biEvents.ENTER_CODE_DIALOG_LOAD,{origin:this.contextManager.getPreviousContext()?"login":this.isRecoveryMode?"account recovery":"devian art",flow_type:this.currentTwoFAMethod});var v}return a.$inject=["$q","userServerApi","fedopsLogger","redirectHandler","errorCodeExtractor","wixBiLogger","biEvents","$timeout","contextManager","redesign","userDeviceType","originUrl","sessionId","twoFactorAuth","accountRecoveryInfo","publicDomain","$translate","signedInInfo","$element","experimentManager","locationParams"],a.prototype.getTitleKey=function(){return this.fallbackEmailMode?"enter_code.fallback.title":this.isRecoveryMode?"enter_code.phone.title":"enter_code."+this.TWO_FA_METHODS[this.currentTwoFAMethod]+".title"},a.prototype.getDescriptionKey=function(){return this.fallbackEmailMode?"enter_code.fallback.description":this.isRecoveryMode?"enter_code.phone.description":"enter_code."+this.TWO_FA_METHODS[this.currentTwoFAMethod]+".description"},a.prototype.getSwitchMethodKey=function(a){return"enter_code."+this.TWO_FA_METHODS[a]+".switch_method"},a.prototype.getSwitchMethods=function(){var a=this;return this.enabledTwoFAMethods?this.enabledTwoFAMethods.filter(function(b){return b!==a.currentTwoFAMethod}):[]},a.prototype.isSwitchMethodEnabled=function(){return this.enabledTwoFAMethods&&this.enabledTwoFAMethods.length>1},a.prototype.onVerify=function(){return this.forceBlurCodeInput(),this.isRecoveryMode?this.onVerifyRecovery():this.onVerify2FA()},a.prototype.onVerify2FA=function(){var a=this;this.wixBiLogger.log(this.biEvents.CLICK_VERIFY_CODE,{remember_this_device:this.rememberThisDevice,flow_type:this.currentTwoFAMethod}),this.loadingVerification=!0,this.fedopsLogger.interactionStarted("verify-code-2fa"),this.userServerApi.verifyCodeAndLogin(this.twoFAToken,this.rememberThisDevice,parseInt(this.verificationCode,10),this.currentTwoFAMethod).then(function(b){a.wixBiLogger.log(a.biEvents.CODE_VERIFY_SUCCESS,{flow_type:a.currentTwoFAMethod}),a.fedopsLogger.interactionEnded("verify-code-2fa"),a.redirectHandler.postLogin(b.data)})["catch"](function(b){a.handleVerifyCodeFailure(b,"verify-code-2f")})},a.prototype.onVerifyRecovery=function(){var a=this;this.wixBiLogger.log(this.biEvents.RECOVER_ACCOUNT_CLICK_VERIFY_CODE),this.loadingVerification=!0,this.fedopsLogger.interactionStarted("verify-code-recovery"),this.userServerApi.verifyRecoveryCode(this.accountEmail,parseInt(this.verificationCode,10),this.locationParams.parentAccountId).then(function(b){a.wixBiLogger.log(a.biEvents.RECOVER_ACCOUNT_CODE_VERIFY_SUCCESS),a.fedopsLogger.interactionEnded("verify-code-recovery"),a.accountRecoveryInfo.setResetPasswordToken(b.data.emailToken),a.contextManager.setContext("reset-password")})["catch"](function(b){a.handleVerifyCodeFailure(b,"verify-code-recovery")})},a.prototype.handleVerifyCodeFailure=function(a,b){this.wixBiLogger.log(this.isRecoveryMode?this.biEvents.RECOVER_ACCOUNT_CODE_VERIFY_FAILURE:this.biEvents.CODE_VERIFY_FAILURE,{flow_type:this.currentTwoFAMethod});var c=this.errorCodeExtractor.getServerErrorCodeFromResponse(a);this.serverError=c?c===this.INVALID_CODE||c===this.TOO_MANY_ATTEMPTS||c===this.CODE_EXPIRED||c===this.ACCOUNT_RECOVERY_CODE_INVALID_CODE||c===this.ACCOUNT_RECOVERY_CODE_TOO_MANY_ATTEMPTS?c+".verificationCode":"general_error.verificationCode":"",this.setTooltipParam(),this.loadingVerification=!1,c!==ErrorCodeExtractor.GENERAL_ERROR?this.fedopsLogger.interactionEnded(b):this.wixBiLogger.log(this.biEvents.ERROR_INTERACTION_NOT_CLOSED,{request_id:a.headers("X-Wix-Request-Id"),error:a,error_code:a.data.errorCode,context:this.contextManager.getContext(),interaction_name:b,origin:this.originUrl,ldSessionID:this.sessionId.get()})},a.prototype.onClickVoiceCall=function(){var a=this;this.voiceCallHasError=!1,this.userServerApi.resendSecondFactorCode(this.twoFAToken,this.currentTwoFAMethod,TwoFactorAuth.PHONE_VOICE_CALL_DELIVERY_METHOD).then(function(){a.voiceCallTooltipText="enter_code.resend_code_tooltip_notification",a.onShowVoiceCallTooltip()})["catch"](function(b){var c=a.errorCodeExtractor.getServerErrorCodeFromResponse(b);a.loadingResendcode=!1,a.voiceCallHasError=!0,a.voiceCallTooltipText=c===a.TOO_MANY_ATTEMPTS?"enter_code.too_many_attempts_error":"login.general_server_error",a.onShowVoiceCallTooltip()})},a.prototype.onResendCode=function(){var a=this;this.wixBiLogger.log(this.isRecoveryMode?this.biEvents.RECOVER_ACCOUNT_CLICK_RESEND_CODE:this.biEvents.CLICK_RESEND_CODE,{flow_type:this.currentTwoFAMethod}),this.loadingResendcode=!0;var b=this.isRecoveryMode?this.userServerApi.resendRecoveryCode(this.accountEmail):this.userServerApi.resendSecondFactorCode(this.twoFAToken,this.currentTwoFAMethod,this.currentTwoFAMethod===TwoFactorAuth.PHONE_METHOD&&this.experimentManager.isExperimentEnabled("specs.ident.ShowVoiceCall2FA")?TwoFactorAuth.PHONE_SMS_DELIVERY_METHOD:void 0);b.then(function(){a.loadingResendcode=!1,a.showResendEmailHint=a.currentTwoFAMethod===TwoFactorAuth.EMAIL_METHOD,a.resendCodeTooltipText="enter_code.resend_code_tooltip_notification",a.onShowResendCodeTooltip()})["catch"](function(b){var c=a.errorCodeExtractor.getServerErrorCodeFromResponse(b);a.loadingResendcode=!1,a.resendCodeTooltipText=c===a.TOO_MANY_ATTEMPTS||c===a.ACCOUNT_RECOVERY_CODE_TOO_MANY_ATTEMPTS?"enter_code.too_many_attempts_error":"login.general_server_error",a.onShowResendCodeTooltip()})},a.prototype.initMfaKeys=function(){this.titleKey=this.getTitleKey(),this.descriptionKey=this.getDescriptionKey()},a.prototype.onSwitchMethod=function(a){var b=this,c=(e={},e[TwoFactorAuth.EMAIL_METHOD]=this.biEvents.ENTER_CODE_SEND_BY_EMAIL,e[TwoFactorAuth.PHONE_METHOD]=this.biEvents.ENTER_CODE_SEND_BY_PHONE,e[TwoFactorAuth.TOTP_METHOD]=this.biEvents.ENTER_CODE_LOGIN_WITH_AUTH_APP,e);this.wixBiLogger.log(c[a],{origin:this.TWO_FA_METHODS[this.currentTwoFAMethod]}),this.currentTwoFAMethod=a,this.switchMethods=this.getSwitchMethods(),this.initMfaKeys();var d=this.userServerApi.resendSecondFactorCode(this.twoFAToken,this.currentTwoFAMethod);d.then(function(a){a.data&&a.data.twoFAHint&&(b.twoFactorAuth.setTwoFAHint(a.data.twoFAHint),b.twoFAHint=b.twoFactorAuth.getTwoFAHint())})["catch"](function(a){var c=b.errorCodeExtractor.getServerErrorCodeFromResponse(a);b.resendCodeTooltipText=c===b.TOO_MANY_ATTEMPTS||c===b.ACCOUNT_RECOVERY_CODE_TOO_MANY_ATTEMPTS?"enter_code.too_many_attempts_error":"login.general_server_error",b.onShowResendCodeTooltip()});var e},a.prototype.onLostAccessToFactor=function(){if(!this.fallbackEmailMode){var a=this.isRecoveryMode?void 0:{
flow_type:this.currentTwoFAMethod.toLowerCase()};this.wixBiLogger.log(this.isRecoveryMode?this.biEvents.RECOVER_ACCOUNT_CLICK_LOST_ACCESS_PHONE:this.biEvents.CLICK_LOST_ACCESS_PHONE,a)}this.redirectHandler.redirect(this.fallbackEmailMode?this.LOST_ACCESS_TO_EMAIL_ARTICLE_URL:this.LOST_ACCESS_TO_PHONE_ARTICLE_URL)},a.prototype.onShowResendCodeTooltip=function(){var a=this;this.$timeout.cancel(this.resendCodeTooltipTimeout),this.resendCodeTooltipOpen=!0,this.resendCodeTooltipTimeout=this.$timeout(function(){a.resendCodeTooltipOpen=!1},this.RESEND_CODE_TIMEOUT)},a.prototype.onShowVoiceCallTooltip=function(){var a=this;this.$timeout.cancel(this.voiceCallTooltipTimeout),this.voiceCallTooltipOpen=!0,this.voiceCallTooltipTimeout=this.$timeout(function(){a.voiceCallTooltipOpen=!1,a.voiceCallHasError=!1},this.RESEND_CODE_TIMEOUT)},a.prototype.onClickBack=function(){this.wixBiLogger.log(this.biEvents.ENTER_CODE_CLICK_BACK,{step_name:"verify_code",flow_type:this.currentTwoFAMethod.toLowerCase()}),this.contextManager.pop()},a.prototype.setTooltipParam=function(){return this.serverError.startsWith(ErrorCodeExtractor.GENERAL_ERROR)?void(this.errorParams={link:'<a href="https://support.wix.com/'+this.publicDomain.getLocale()+'/article/contacting-wix-customer-care-for-support" target="_self">\n          '+this.$translate.instant("enter_code.general_error_link")+"</a>"}):void(this.errorParams={})},a.prototype.showResendCodeLink=function(){return this.currentTwoFAMethod!==TwoFactorAuth.TOTP_METHOD&&!this.fallbackEmailMode},a.prototype.showLostAccessToPhoneLink=function(){return this.fallbackEmailMode||!this.isRecoveryMode&&(this.currentTwoFAMethod===TwoFactorAuth.PHONE_METHOD||this.currentTwoFAMethod===TwoFactorAuth.TOTP_METHOD)},a.prototype.forceBlurCodeInput=function(){var a=this.$element.find("input");try{a&&a.blur()}catch(b){}},a}();angular.module("loginAppInternal").component("enterCode",{template:"<div style=\"height: 100%\" ng-include=\"$ctrl.isRedesign ? 'views/desktop/enter-code-redesign.html' : ($ctrl.userDeviceType.isMobile() ? 'views/mobile/enter-code.html': 'views/desktop/enter-code.html')\">\n               </div>",controller:EnterCode});var EditorXHandler=function(){function a(a,b,c){this.experimentManager=a,this.locationParams=b,this.$window=c,this.isEditorX()&&angular.element("body").addClass("editor-x-design")}return a.$inject=["experimentManager","locationParams","$window"],a.prototype.isEditorX=function(){var a=this.locationParams.forceEditorX;return"true"===a||this.checkIfHostnameIncludesEditorX()},a.prototype.checkIfHostnameIncludesEditorX=function(){try{var a=this.$window.location.host;return a.indexOf(".editorx.com")>=0}catch(b){return!1}},a}();angular.module("loginAppInternal").service("editorXHandler",EditorXHandler);var WixRecorderHandler=function(){function a(a,b,c,d,e,f){var g=this;this.experimentManager=a,this.$window=b,this.wixBiLogger=c,this.biEvents=d,this.$q=e,this.wixRecorderFactory=f,this.pages=[],this.wixRecorderFactory.then(function(a){a.addLabel("login-statics"),a.recordUrl().then(function(a){return g.wixBiLogger.log(g.biEvents.FULL_STORY_READY,{fullStoryUrl:a})})})}return a.$inject=["experimentManager","$window","wixBiLogger","biEvents","$q","wixRecorderFactory"],a.prototype.addRecordAttribute=function(a,b){this.wixRecorderFactory.then(function(c){c.addCustomAttribute(a,b)})},a.prototype.visitedPage=function(a){var b=this;this.wixRecorderFactory.then(function(c){-1===b.pages.indexOf(a)&&(b.pages.push(a),c.addCustomAttribute("pages",b.pages))})},a}();angular.module("loginAppInternal").service("wixRecorderHandler",WixRecorderHandler).factory("wixRecorderFactory",["$q","$window",function(a,b){if(b.wixRecorder)return a.when(b.wixRecorder);var c=a.defer();return c.promise}]);var PasswordStrengthExtractor=function(){function a(b){var c=this;this.$filter=b,this.getLengthScore=function(b){var c=Math.max(b.length,a.MINIMAL_LENGTH)||a.MINIMAL_LENGTH,d=[];16>c&&d.push("more_characters");var e=function(){switch(c){case 6:return-4;case 7:case 8:return-2;case 9:case 10:return 0;case 11:case 12:case 13:return 2;case 14:case 15:return 3;default:return 5}};return{lengthScore:e(),lengthHints:d}},this.getComplexityScore=function(a){var b=[function(a){return void 0===a&&(a=""),/[a-z]/.test(a)?void 0:"letters"},function(a){return void 0===a&&(a=""),/[A-Z]/.test(a)?void 0:"letters"},function(a){return void 0===a&&(a=""),/[0-9]/.test(a)?void 0:"numbers"},function(a){return void 0===a&&(a=""),/[^A-Za-z0-9]/.test(a)?void 0:"symbol"}],c=b.map(function(b){return b(a)}).filter(function(a){return a}),d=b.length-c.length;return{complexityScore:d,hints:c}},this.getRepetitivityScore=function(a){for(var b=[],d=/(.)\1{2,}/g,e=0,f=d.exec(a);f;){var g=f[0];e=Math.max(g.length,e),f=d.exec(a)}var h=e/a.length>.5;h&&b.push("repeating_characters");var i=c.getLengthScore(a).lengthScore,j=h&&3>i?-1:0;return{repetitivityScore:j,hints:b}},this.getScoreLabel=function(a){switch(a=Math.max(a,0)){case 0:case 1:return"1";case 2:return"2";case 3:case 4:return"3";default:return"4"}}}return a.$inject=["$filter"],a.prototype.getPasswordStrength=function(a){var b=this.getLengthScore(a),c=b.lengthScore,d=b.lengthHints,e=this.getComplexityScore(a),f=e.complexityScore,g=e.hints,h=this.getRepetitivityScore(a),i=h.repetitivityScore,j=h.hints,k=f+c+i;return{repetitivityScore:i,finalScore:k,classification:this.getScoreLabel(k),complexityScore:f,lengthScore:c,hints:d.concat(g.concat(j))}},a.prototype.getPasswordStrengthForBiEvent=function(a){var b=this.getPasswordStrength(a).finalScore;switch(b=Math.max(b,0)){case 0:case 1:return 1;case 2:case 3:return 3;default:return 5}},a}();PasswordStrengthExtractor.MINIMAL_LENGTH=6,angular.module("loginAppInternal").service("passwordStrengthExtractor",PasswordStrengthExtractor);
